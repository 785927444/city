# 待建表清单 - 年度计划模块 (Annual Plan)

针对 `d:\Order\2.8\vue\src\views\async\annualPlan` 模块，建议建立以下数据库表结构。

## 1. 年度计划主表 (t_annual_plan_report)

用于存储年度计划的基本信息。对应 `report.vue` 及 `index.vue` 列表展示的核心字段。

| 字段名 | 类型 | 长度 | 说明 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
| id | VARCHAR | 36 | 主键ID | UUID |
| plan_name | VARCHAR | 200 | 计划名称 | 如：2026年度太原市小店区年度计划 |
| city_name | VARCHAR | 50 | 所属城市 | 如：太原市 |
| district_name | VARCHAR | 50 | 所属区县 | 如：小店区 |
| plan_year | VARCHAR | 10 | 计划年度 | 如：2026 |
| report_unit | VARCHAR | 100 | 上报单位 | |
| plan_content | TEXT | | 年度工作目标描述 | |
| report_time | DATETIME | | 上报时间 | |
| investment_amount | DECIMAL | 18,2 | 计划总投资(万元) | |
| project_count | INT | | 包含项目数量 | |
| plan_scale | DECIMAL | 18,2 | 建设规模(亩/万平米) | 预留字段 |
| status | VARCHAR | 20 | 计划状态 | 0：待审核, 1：已通过, 2：已退回 |
| push_status | VARCHAR | 2 | 区级推送状态 | 0:待审核, 1:已通过, 2:驳回 |
| push_status2 | VARCHAR | 2 | 市级推送状态 | 0:待审核, 1:已通过, 2:驳回 |
| push_status3 | VARCHAR | 2 | 省级推送状态 | 0:待审核, 1:已通过, 2:驳回 |
| create_time | DATETIME | | 创建时间 | |
| update_time | DATETIME | | 更新时间 | |
| create_by | VARCHAR | 36 | 创建人ID | |

## 2. 年度计划附件表 (t_annual_plan_attachment)

用于存储年度计划相关的附件文件。对应 `report.vue` 中的附件列表。

| 字段名 | 类型 | 长度 | 说明 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
| id | VARCHAR | 36 | 主键ID | UUID |
| plan_id | VARCHAR | 36 | 关联计划ID | 关联 t_annual_plan_report.id |
| file_name | VARCHAR | 255 | 文件名称 | |
| file_type | VARCHAR | 50 | 文件类型 | PDF, Word, Image, etc. |
| file_url | VARCHAR | 500 | 文件路径/URL | |
| file_size | BIGINT | | 文件大小(字节) | |
| upload_time | DATETIME | | 上传时间 | |
| uploader | VARCHAR | 50 | 上传人 | |
| remarks | VARCHAR | 500 | 备注 | |

## 3. 年度计划关联项目表 (t_annual_plan_project_rel)

如果年度计划与具体项目是多对多或一对多关系，且项目本身存在于项目库中，可以使用关联表；如果项目是计划特有的，则建立项目明细表。这里假设关联已有的项目库。对应 `projectList.vue` 及 `report.vue` 项目清单。

| 字段名 | 类型 | 长度 | 说明 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
| id | VARCHAR | 36 | 主键ID | UUID |
| plan_id | VARCHAR | 36 | 关联计划ID | |
| project_id | VARCHAR | 36 | 关联项目ID | 关联 t_project_report.id |
| sort_order | INT | | 排序 | |

## 4. 项目库表补充字段 (t_project_report)

**注意**：年度重点任务不再单独建表，而是直接从关联的项目(`t_project_report`)中读取以下字段。

| 字段名 | 类型 | 说明 | 备注 |
| :--- | :--- | :--- | :--- |
| task_type | VARCHAR(50) | 任务类型 | |
| task_class | VARCHAR(50) | 任务中类 | |
| task_content | TEXT | 建设内容 | |
<!-- | target_value | VARCHAR(100) | 项目量化目标 | 暂固定为10，无需字段 -->
