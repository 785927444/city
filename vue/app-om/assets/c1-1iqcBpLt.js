import{d as $,g as B,r as U,b as E,o as d,c as u,u as c,a as w,_ as T,f as t,e as p,y as k,c4 as j,t as h,c5 as A,F as O,p as q,k as g,c6 as b,a3 as y,a4 as x,a9 as D,l as I}from"./index-C0LFq0t5.js";const F={class:"layout-col"},J={key:0,class:"absolute-cc flex-col-cc w50x10 h50x6 bod-i1-1 rad5 cursor f28 i1"},z={key:1,class:"layout-col white-rgba50 rad8 p10"},L={class:"ww100 flex-bc p10"},G={class:"flex-ec flex1 h30"},H={class:"f14 ml5"},K={class:"flex-ss ww100 flex1 warp overlay"},P={class:"flex-col ww100 bg-white p20"},Q={class:"flex-sc ww100"},R={class:"flex1"},W=["onUpdate:modelValue"],X={class:"flex-sc ww100 mt12"},Y={class:"flex1"},Z=["onUpdate:modelValue"],ss={class:"flex-sc ww100 mt12"},ts={class:"flex1"},es=["onUpdate:modelValue"],os={class:"flex-sc ww100 mt12"},ls={class:"flex1"},as={class:"flex-sc ww100 mt12"},is={class:"flex-sc flex1 h36"},ns=["onClick"],cs={class:"f14 ml5"},rs=["onClick"],ps=["onClick"],ds=["onClick"],us=$({__name:"c1",setup(fs){const{proxy:f}=B(),r=f.publicStore(),_=f.configStore(),l=U({...r.$state,key:"id",now:0,model:"t_simulator"}),C={show:!0,status:!0,title:"",http:"",apis:[{show:!0,status:!1,title:"",http:"",path:"",time:60,paramsType:"1",params1:[{json:""}],params2:[{json:[{key:"",type:"string",valueType:"1",value:""}]}]}]};E(async()=>{m()});const m=async()=>{let a={model:l.model},s=await r.http({Api:a});l.empty=!!f.isNull(s);let i=f.isNull(s)?[]:s.sort((o,v)=>o.order-v.order);i.forEach(o=>{o.apis=JSON.parse(o.apis)}),l.list=i,r._public.list=l.list},S=a=>{N(a);let s=Object.assign({},a);s.apis=JSON.stringify(s.apis);let i={model:l.model,list:[s]};y[s[l.key]?"updApi":"addApi"](i).then(o=>{o.code==200&&(x({title:"提示",message:"操作成功",type:"success"}),r.mockStatus=!r.mockStatus,m())}).catch(o=>{x({title:"提示",message:"操作失败",type:"error"})})},M=(a,s)=>{D.confirm("是否确定删除?","删除提示",{confirmButtonText:"确定",cancelButtonText:"关闭",type:"error"}).then(()=>{let i={model:l.model,list:[a]};y.delApi(i).then(o=>{o.code==200&&(x({title:"提示",message:"操作成功",type:"success"}),r.mockStatus=!r.mockStatus,m())}).catch(o=>{x({title:"提示",message:"操作失败",type:"error"})})})},N=a=>{let s={status:!0,msg:""};return a.apis.length!=0&&a.apis.forEach(i=>{}),s};return(a,s)=>{const i=T,o=j,v=A;return d(),u("div",F,[c(l).empty&&a.isNull(c(l).list)?(d(),u("div",J,[w(i),s[3]||(s[3]=t("span",{class:"mt10"},"新建模拟器",-1))])):(d(),u("div",z,[t("div",L,[s[6]||(s[6]=t("div",{class:"flex-sc"},[t("span",{class:"f15 fw"},"模拟器配置")],-1)),t("div",G,[t("div",{class:"rad4 ptb6 plr10 flex-cc cursor bgi1 white ml10",onClick:s[0]||(s[0]=p(e=>c(l).list.push(Object.assign({},C)),["stop"]))},[w(i,{class:"f12 fw"}),s[4]||(s[4]=t("span",{class:"f14 ml5"},"模拟",-1))]),t("div",{class:k(["rad4 ptb6 plr10 flex-cc cursor white ml10",c(_).isMock?"bgi11":"bgi6"]),onClick:s[1]||(s[1]=p(e=>c(_).isMock=!c(_).isMock,["stop"]))},[w(o,{class:"f12 fw"}),t("span",H,h(c(_).isMock?"已开启":"未开启"),1)],2),t("div",{class:"rad4 ptb6 plr10 flex-cc cursor bgi1 white ml10",onClick:s[2]||(s[2]=p(e=>m(),["stop"]))},[w(v,{class:"f12 fw"}),s[5]||(s[5]=t("span",{class:"f14 ml5"},"刷新",-1))])])]),t("div",K,[(d(!0),u(O,null,q(c(l).list,(e,V)=>(d(),u("div",{class:"flex-col ww25 p10 rad5 cursor",key:V},[t("div",P,[t("div",Q,[s[7]||(s[7]=t("span",{class:"w50x2 i15"},"模拟名称",-1)),t("span",R,[g(t("input",{placeholder:"请输入","onUpdate:modelValue":n=>e.title=n},null,8,W),[[b,e.title,void 0,{trim:!0}]])])]),t("div",X,[s[8]||(s[8]=t("span",{class:"w50x2 i15"},"全局地址",-1)),t("span",Y,[g(t("input",{placeholder:"请输入","onUpdate:modelValue":n=>e.http=n},null,8,Z),[[b,e.http,void 0,{trim:!0}]])])]),t("div",ss,[s[9]||(s[9]=t("span",{class:"w50x2 i15"},"当前排序",-1)),t("span",ts,[g(t("input",{placeholder:"请输入","onUpdate:modelValue":n=>e.order=n},null,8,es),[[b,e.order,void 0,{trim:!0}]])])]),t("div",os,[s[10]||(s[10]=t("span",{class:"w50x2 i15"},"可视情况",-1)),t("span",ls,h(e.show?"显示":"隐藏"),1)]),t("div",as,[t("div",is,[t("div",{class:k(["rad4 ptb6 plr10 flex-cc cursor white",e.status?"bgi11":"bgi6"]),onClick:p(n=>e.status=!e.status,["stop"])},[t("span",cs,h(e.status?"已启用":"已禁用"),1)],10,ns),t("div",{class:"rad4 ptb6 plr10 flex-cc cursor bgi1 white ml10",onClick:p(n=>c(r).active={...e},["stop"])},[...s[11]||(s[11]=[t("span",{class:"f14 ml5"},"查看",-1)])],8,rs),t("div",{class:"rad4 ptb6 plr10 flex-cc cursor bgi1 white ml10",onClick:p(n=>S(e),["stop"])},[...s[12]||(s[12]=[t("span",{class:"f14 ml5"},"保存",-1)])],8,ps),t("div",{class:"rad4 ptb6 plr10 flex-cc cursor bgi8 white ml10",onClick:p(n=>M(e),["stop"])},[...s[13]||(s[13]=[t("span",{class:"f14 ml5"},"删除",-1)])],8,ds)])])])]))),128))])]))])}}}),hs=I(us,[["__scopeId","data-v-b0d54044"]]);export{hs as default};
