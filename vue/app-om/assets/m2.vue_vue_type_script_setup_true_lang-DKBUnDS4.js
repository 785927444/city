import{_ as x}from"./Pagination.vue_vue_type_style_index_0_lang-CjUCoIAl.js";import{_ as b}from"./List.vue_vue_type_script_setup_true_lang-Lnm6dwtK.js";import{d as S,g as N,r as k,j as c,o as C,c as J,cW as O,f,a as u,u as i,k as B,v as L,n as h}from"./index-CymMRwSV.js";import{e as V}from"./chart-CkjjWSbz.js";const $={class:"layout-row"},q={class:"flex2 hh100 hidden flex-col ml15 rad5 p15 bgi16"},U=S({__name:"m2",setup(I){const{drawChart:w}=V(),{proxy:r}=N(),l=r.publicStore();r.configStore();const a=k({...l.$state,content:[{width:"w60",show:!0,align:"center",key:"*",name:"序号"},{width:"w50x3",show:!0,align:"center",key:"name",name:"项目名称"},{width:"w50x3",show:!0,align:"center",key:"stage",name:"项目阶段"},{width:"w50x3",show:!0,align:"center",key:"area",name:"项目地区"},{width:"w50x3",show:!0,align:"center",key:"construct_scale",name:"项目规模"},{width:"flex1",show:!0,align:"right",key:{detail:"详情",position:"定位"},name:"操作"}]});c(()=>l.actIndex,async t=>{r.isNull(t)||(await h(),m())},{immediate:!1,deep:!0});const m=async()=>{`${l.actIndex}`};c(()=>a.percent,async(t,e)=>{if(r.isNull(t)||JSON.stringify(t)==JSON.stringify(e))return;await h(),g(JSON.parse(JSON.stringify({name:"比例",status:1,value:t})))},{immediate:!1,deep:!0});const g=async t=>{w("Liquidfill","Liquidfill_liqu",{},t,{colorList:[],radius:["78%","60%"],labelShow:!0})};c(()=>a.responses,async(t,e)=>{JSON.stringify(t)!=JSON.stringify(e)&&(await h(),v(t))},{immediate:!1,deep:!0});const v=async t=>{let e="Barsx",d="Bar_responses",s={min:0,colorList:[],legendArr:[],legendX:"center",legendShow:!0,labelShow:!0,areaShow:!1,smooth:!0,tooltip:!0,y_name:"数量",tool_name_x:"地区：",tool_name_y:"数值："},n={data:[]};n=t.map(o=>{s.legendArr.push(o.name);let _=o.data.map(p=>[Number(p[1]),p[0]]);return o.data.length>20&&(s.symbol=!0),{data:_}}),w(e,d,s,{series:n},{})},y=async(t,e)=>{(t=="add"||t=="upd")&&addRef.onVisable(e),t=="del"&&addRef.del(e)};return(t,e)=>{const d=b,s=x;return C(),J("div",$,[e[3]||(e[3]=O('<div class="flex3 hh100 hidden flex-ss warp"><div class="ww50 hh50 hidden p10"><div class="ww100 hh100 flex-col rad5 hidden p15 bgi16"><div class="fw mb10">更新项目推讲时序图</div><div class="ww100 hh100 bg-white rad5"></div></div></div><div class="ww50 hh50 hidden p10"><div class="ww100 hh100 flex-col rad5 hidden p15 bgi16"><div class="fw mb10">规划目标完成图</div><div class="ww100 hh100 bg-white rad5"></div></div></div><div class="ww50 hh50 hidden p10"><div class="ww100 hh100 flex-col rad5 hidden p15 bgi16"><div class="fw mb10">规划审核通过率排行榜</div><div class="ww100 hh100 bg-white rad5"></div></div></div><div class="ww50 hh50 hidden p10"></div></div>',1)),f("div",q,[e[2]||(e[2]=f("div",{class:"fw mb10"},"数据清单",-1)),u(d,{onHandleClick:y,state:i(a)},null,8,["state"]),B(u(s,{class:"",style:{"padding-bottom":"0"},total:i(a).total,page:i(a).page,"onUpdate:page":e[0]||(e[0]=n=>i(a).page=n),pageModifiers:{sync:!0},limit:i(a).limit,"onUpdate:limit":e[1]||(e[1]=n=>i(a).limit=n),limitModifiers:{sync:!0},onPagination:m},null,8,["total","page","limit"]),[[L,i(a).total>0]])])])}}});export{U as _};
