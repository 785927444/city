import{d as S,g as k,Y as w,o as i,z as x,u as p,w as b,c as u,t as z,aF as B,a4 as E,r as C,l as M,a5 as A,f as I}from"./index-BF5jje68.js";/* empty css                    *//* empty css                   */import{E as T}from"./index-CU8Q0z-M.js";import{E as m}from"./index-CND7x1jx.js";/* empty css                                                                   */const U={key:0},q={key:1},L=S({__name:"UploadText",props:B({action:{type:String,default:"/api/v1/terminal/base/uploadFile"},fileLimit:{type:Number,default:5},fileSize:{type:Number,default:50},fileType:{type:Array,default:[]},fileList:{type:[Array,String],default:[]}},{model:{},modelModifiers:{}}),emits:["update:model"],setup(r){const{proxy:s}=k();s.publicStore();const c=s.configStore(),a=w(r,"model"),d=r,l=C({dialogVisible:!1,dialogImageUrl:""}),f=t=>{l.dialogImageUrl=t.url,l.dialogVisible=!0},y=t=>{const e=t.size/1024/1024<d.fileSize;return e||m({type:"error",message:"上传图片大小不能超过 "+d.fileSize+"MB!"}),e},_=(t,e,n)=>{let o=e.response.data;o&&Object.prototype.hasOwnProperty.call(e,"response")&&e.response.data&&(a.value={data:o,name:e.name,time:e.uid,status:e.status,type:e.raw.type},console.log("data---",o),E({title:"提示",message:e.status=="success"?"上传成功":"上传失败",type:e.status=="success"?"success":"error"}))},g=(t,e)=>{if(!t||!Object.prototype.hasOwnProperty.call(t,"response"))return;let n=t.response.data,o=a.value.findIndex(h=>h==n);o!=-1&&a.value.splice(o,1)},v=()=>{l.loading=!1,m({type:"error",message:"上传失败"})};return(t,e)=>{const n=T;return i(),x(n,{class:"avatar-uploader","show-file-list":!1,action:r.action,headers:{Authorization:p(c).token,"X-CSRF-Token":p(c).csrfToken,AuthToken:"xyz"+t.encrypt("xyz"+p(c).secret_key)},"before-upload":y,"on-success":_,"on-error":v,"on-remove":g,"on-preview":f},{default:b(()=>[a.value?(i(),u("span",U,z(a.value.name?a.value.name:"未知"),1)):(i(),u("span",q,"点击上传"))]),_:1},8,["action","headers"])}}}),H=M(L,[["__scopeId","data-v-dfa15af5"]]),N={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function O(r,s){return i(),u("svg",N,[...s[0]||(s[0]=[I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896a448 448 0 0 1 0-896m23.7 191.5q-77.9 0-123.2 44.3c-31 29.6-45.7 70.4-45.7 122.5H447c0-29.5 5.7-52.8 17.6-69c13.4-19.7 35.2-28.8 66.2-28.8q36.2-.2 56.3 19.7a77 77 0 0 1 19.7 54.9a78 78 0 0 1-19 50l-8.4 9.8c-45.8 40.9-73.2 70.4-82.4 89.5c-9.8 19-14 42.2-14 69v9.8h80.9v-9.9c0-16.9 3.5-31.6 10.6-45.7a109 109 0 0 1 28.1-35.2c33.8-29.6 54.2-48.6 60.6-55.6c16.9-22.6 26-51.4 26-86.6q0-64.4-42.2-101.4c-28.2-25.3-65.5-37.3-111.3-37.3m-12.6 406.2a54 54 0 0 0-38.7 14.8a49 49 0 0 0-15.5 38c0 15.5 4.9 28.2 15.5 38A55 55 0 0 0 523 768c15.5 0 28.1-5 38.7-14.8a52 52 0 0 0 16.2-38.7a52 52 0 0 0-15.5-38a56 56 0 0 0-39.4-14.8"},null,-1)])])}const X=A({name:"ep-question-filled",render:O});export{X as _,H as a};
