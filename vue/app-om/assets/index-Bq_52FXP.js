import{e as b}from"./chart-C0baarqp.js";import{d as M,s as S,g as C,r as B,b as F,j as m,o as q,c as z,f as s,t as o,u as i,x as f,y as c,n as w,l as J}from"./index-Bd85TTIS.js";import"./index-Da8m4HG1.js";import"./linesGL-hPiCY4Q-.js";const L={class:"layout-row c2 plr15"},O={class:"flex1 hh100 bg-white rad8"},T={class:"layout-col rad5 p20 f16"},D={class:"ww100 flex-sc"},I={class:"i2"},$={class:"ww100 flex-sc mt25"},E={class:"i2"},U={class:"ww100 flex-sc mt25"},P={class:"i2"},j={class:"ww100 flex-sc mt25"},A={class:"i2"},G={class:"ww100 flex-sc mt25"},H={class:"i2"},V={class:"ww100 flex-sc mt25"},K={class:"i2"},Q={class:"ww100 flex-sc mt25"},R={class:"i2"},W={class:"ww100 flex-sc mt25"},X={class:"i2 mr10"},Y={class:"ww100 flex-sc mt25"},Z={class:"i2 mr10"},ss={class:"ww100 flex-sc mt25"},ls={class:"i2 mr10"},ts={class:"flex3 hh100 flex-col bg-white rad8 ml15"},is={class:"flex1 hh100 p10"},es={class:"ww100 hh100 flex-col-bc rad5 hidden p20 relative"},os={class:"flex1 ww100 flex-sc mt15"},as={class:"flex-sc flex1"},ns={class:"ml15 mr10 f30"},rs={class:"flex-sc flex1"},ds={class:"ml15 mr10 f30"},us={class:"flex-sc flex1"},ps={class:"ml15 mr10 f30"},ms={class:"flex-sc flex1"},fs={class:"ml15 mr10 f30"},cs={class:"ww100 relative"},ws={class:"flex1 hh100 p10"},hs={class:"ww100 hh100 flex-col-bc rad5 hidden p20 relative"},vs={class:"flex1 ww100 flex-sc mt15"},ys={class:"flex-sc flex1"},gs={class:"ml15 mr10 f30"},Ns={class:"flex-sc flex1"},_s={class:"ml15 mr10 f30"},xs={class:"flex-sc flex1"},ks={class:"ml15 mr10 f30"},bs={class:"ww100 relative"},Ms={class:"absolute ww100 flex-ec r0 tx z1"},Ss={class:"flex1 hh100 p10"},Cs={class:"ww100 hh100 flex-col-bc rad5 hidden p20 relative"},Bs={class:"flex1 ww100 flex-sc mt15"},Fs={class:"flex-sc flex1"},qs={class:"ml15 mr10 f30"},zs={class:"flex-sc flex1"},Js={class:"ml15 mr10 f30"},Ls={class:"flex-sc flex1"},Os={class:"ml15 mr10 f30"},Ts={class:"ww100 relative"},Ds={class:"absolute ww100 flex-ec r0 tx z1"},Is=M({__name:"index",setup($s){const{drawChart:p}=b(),{createScheduled:g}=S(),{proxy:r}=C(),h=r.publicStore();r.configStore();const l=B({...h.$state});F(async()=>{v(),g("dashboard",3*1e3,()=>{v()})});const v=async()=>{let e=await h.http({systemApi:{}});l.locattime=r.parseTime(new Date().getTime()),r.isNull(e)?(l.host={},l.cpu={},l.memory={},l.disk={}):(l.host=e.host,l.cpu=e.cpu,l.cpu_used_percent=Math.floor(e.cpu.usage_percent)/100,l.memory=e.memory,l.memory_used_percent=e.memory.used_percent/100,l.disk=e.disk,l.disk_used_percent=e.disk.used_percent/100)};m(()=>l.cpu_used_percent,async(e,t)=>{if(r.isNull(e)||JSON.stringify(e)==JSON.stringify(t))return;await w();let a={name:"CPU负荷率",status:e<=.35?1:e>.35&&e<=.7?3:2,value:e};N(JSON.parse(JSON.stringify(a)))},{immediate:!1,deep:!0}),m(()=>l.memory_used_percent,async(e,t)=>{if(r.isNull(e)||JSON.stringify(e)==JSON.stringify(t))return;await w();let a={name:"内存使用率",status:e<=.35?1:e>.35&&e<=.7?3:2,value:e};_(JSON.parse(JSON.stringify(a)))},{immediate:!1,deep:!0}),m(()=>l.disk_used_percent,async(e,t)=>{if(r.isNull(e)||JSON.stringify(e)==JSON.stringify(t))return;await w();let a={name:"硬盘使用率",status:e<=.35?1:e>.35&&e<=.7?3:2,value:e};x(JSON.parse(JSON.stringify(a)))},{immediate:!1,deep:!0});const N=async e=>{p("Liquidfill","Liquidfill_liqu1",{},e,{colorList:[],radius:["78%","60%"],labelShow:!0})},_=async e=>{p("Liquidfill","Liquidfill_liqu2",{},e,{colorList:[],radius:["78%","60%"],labelShow:!0})},x=async e=>{p("Liquidfill","Liquidfill_liqu3",{},e,{colorList:[],radius:["78%","60%"],labelShow:!0})},k=e=>{if(isNaN(e)||e<0)return"无效时间";const t=Math.floor(e/(3600*24)),a=Math.floor(e%(3600*24)/3600),u=Math.floor(e%3600/60),y=Math.floor(e%60),d=[];return t>0&&d.push(`${t}天`),a>0&&d.push(`${a}时`),u>0&&d.push(`${u}分`),(y>0||d.length===0)&&d.push(`${y}秒`),d.join(" ")},n=(e,t=2)=>isNaN(e)?"N/A":(e/(1024*1024)).toFixed(t);return(e,t)=>(q(),z("div",L,[s("div",O,[s("div",T,[s("div",D,[t[0]||(t[0]=s("span",{class:"w50x2"},"本地时间",-1)),s("span",I,o(i(l).locattime),1)]),s("div",$,[t[1]||(t[1]=s("span",{class:"w50x2"},"系统时间",-1)),s("span",E,o(!e.isNull(i(l).host)&&i(l).host.currentTime?e.parseTime(i(l).host.currentTime):""),1)]),s("div",U,[t[2]||(t[2]=s("span",{class:"w50x2"},"运行时长",-1)),s("span",P,o(!e.isNull(i(l).host)&&i(l).host.uptime?k(i(l).host.uptime):""),1)]),s("div",j,[t[3]||(t[3]=s("span",{class:"w50x2"},"开机时间",-1)),s("span",A,o(!e.isNull(i(l).host)&&i(l).host.boot_time?e.parseTime(i(l).host.boot_time*1e3):""),1)]),s("div",G,[t[4]||(t[4]=s("span",{class:"w50x2"},"关机时间",-1)),s("span",H,o(!e.isNull(i(l).host)&&i(l).host.last_shutdown_time?e.parseTime(i(l).host.last_shutdown_time*1e3):""),1)]),s("div",V,[t[5]||(t[5]=s("span",{class:"w50x2"},"操作系统",-1)),s("span",K,o(!e.isNull(i(l).host)&&i(l).host.os?i(l).host.os:""),1)]),s("div",Q,[t[6]||(t[6]=s("span",{class:"w50x2"},"内核版本",-1)),s("span",R,o(!e.isNull(i(l).host)&&i(l).host.kernel_version?i(l).host.kernel_version:""),1)]),s("div",W,[t[7]||(t[7]=s("span",{class:"w50x2"},"发行名称",-1)),s("span",X,o(!e.isNull(i(l).host)&&i(l).host.platform?i(l).host.platform:""),1)]),s("div",Y,[t[8]||(t[8]=s("span",{class:"w50x2"},"发行家族",-1)),s("span",Z,o(!e.isNull(i(l).host)&&i(l).host.platform_family?i(l).host.platform_family:""),1)]),s("div",ss,[t[9]||(t[9]=s("span",{class:"w50x2"},"发行版本",-1)),s("span",ls,o(!e.isNull(i(l).host)&&i(l).host.platform_version?i(l).host.platform_version:""),1)])])]),s("div",ts,[s("div",is,[s("div",es,[t[20]||(t[20]=s("div",{class:"ww100 f20 flex-sc"},[s("div",{class:"bgi22 p15 ww20"},[s("span",{class:""},"CPU信息"),s("span",{class:"ml10"},"CPU")])],-1)),s("div",os,[s("div",as,[t[10]||(t[10]=s("span",{class:"f22"},"物理核心",-1)),s("span",ns,o(!e.isNull(i(l).cpu)&&i(l).cpu.physical_cores?i(l).cpu.physical_cores:""),1),t[11]||(t[11]=s("span",{class:"mt15"},"个",-1))]),s("div",rs,[t[12]||(t[12]=s("span",{class:"f22"},"逻辑核心",-1)),s("span",ds,o(!e.isNull(i(l).cpu)&&i(l).cpu.logical_cores?i(l).cpu.logical_cores:""),1),t[13]||(t[13]=s("span",{class:"mt15"},"个",-1))]),s("div",us,[t[14]||(t[14]=s("span",{class:"f22"},"插槽数量",-1)),s("span",ps,o(!e.isNull(i(l).cpu)&&i(l).cpu.sockets?i(l).cpu.sockets:""),1),t[15]||(t[15]=s("span",{class:"mt15"},"个",-1))]),s("div",ms,[t[16]||(t[16]=s("span",{class:"f22"},"运行频率",-1)),s("span",fs,o(!e.isNull(i(l).cpu)&&i(l).cpu.mhz?i(l).cpu.mhz:""),1),t[17]||(t[17]=s("span",{class:"mt15"},"GHz",-1))]),t[18]||(t[18]=s("div",{class:"flex-sc flex1"},null,-1))]),s("div",cs,[t[19]||(t[19]=s("div",{class:"ww100 h38 black-rgba10 rad4"},null,-1)),s("div",{class:c(["h38 absolute z1 t0 l0 radd",e.isNull(i(l).cpu)?"":"ww"+Math.floor(i(l).cpu.usage_percent)]),style:f({backgroundImage:!e.isNull(i(l).cpu)&&i(l).cpu.usage_percent<=35?"linear-gradient(to right, #B1C9F1, #4187FF)":!e.isNull(i(l).cpu)&&i(l).cpu.usage_percent>35&&i(l).cpu.usage_percent<=70?"linear-gradient(to right, #fcf6c2, #FEC746)":"linear-gradient(to right, #F98994, #DC1185)"})},null,6)]),t[21]||(t[21]=s("div",{class:"absolute flex-ec r40 t40 z1"},[s("div",{class:"w50x2 h50x2",id:"Liquidfill_liqu1"})],-1))])]),s("div",ws,[s("div",hs,[t[31]||(t[31]=s("div",{class:"ww100 f20 flex-sc"},[s("div",{class:"bgi22 p15 ww20"},[s("span",{class:""},"内存信息"),s("span",{class:"ml10"},"Memory")])],-1)),s("div",vs,[s("div",ys,[t[22]||(t[22]=s("span",{class:"f22"},"总量",-1)),s("span",gs,o(!e.isNull(i(l).memory)&&i(l).memory.total?n(i(l).memory.total):""),1),t[23]||(t[23]=s("span",{class:"mt15"},"MB",-1))]),s("div",Ns,[t[24]||(t[24]=s("span",{class:"f22"},"使用",-1)),s("span",_s,o(!e.isNull(i(l).memory)&&i(l).memory.used?n(i(l).memory.used):""),1),t[25]||(t[25]=s("span",{class:"mt15"},"MB",-1))]),s("div",xs,[t[26]||(t[26]=s("span",{class:"f22"},"可用",-1)),s("span",ks,o(!e.isNull(i(l).memory)&&i(l).memory.available?n(i(l).memory.available):""),1),t[27]||(t[27]=s("span",{class:"mt15"},"MB",-1))]),t[28]||(t[28]=s("div",{class:"flex-sc flex1"},null,-1))]),s("div",bs,[t[30]||(t[30]=s("div",{class:"ww100 h38 black-rgba10 rad4"},null,-1)),s("div",{class:c(["h38 absolute z1 t0 l0 radd",e.isNull(i(l).memory)?"":"ww"+Math.floor(i(l).memory.used_percent)]),style:f({backgroundImage:!e.isNull(i(l).memory)&&i(l).memory.used_percent<=35?"linear-gradient(to right, #B1C9F1, #4187FF)":!e.isNull(i(l).memory)&&i(l).memory.used_percent>35&&i(l).memory.used_percent<=70?"linear-gradient(to right, #fcf6c2, #FEC746)":"linear-gradient(to right, #F98994, #DC1185)"})},null,6),s("div",Ms,[t[29]||(t[29]=s("span",null,"已使用：",-1)),s("span",null,o(!e.isNull(i(l).memory)&&i(l).memory.used?n(i(l).memory.used)+"MB":"")+" / "+o(!e.isNull(i(l).memory)&&i(l).memory.total?n(i(l).memory.total)+"MB":""),1)])]),t[32]||(t[32]=s("div",{class:"absolute flex-ec r40 t40 z1"},[s("div",{class:"w50x2 h50x2",id:"Liquidfill_liqu2"})],-1))])]),s("div",Ss,[s("div",Cs,[t[42]||(t[42]=s("div",{class:"ww100 f20 flex-sc"},[s("div",{class:"bgi22 p15 ww20"},[s("span",{class:""},"硬盘信息"),s("span",{class:"ml10"},"Disk")])],-1)),s("div",Bs,[s("div",Fs,[t[33]||(t[33]=s("span",{class:"f22"},"总量",-1)),s("span",qs,o(!e.isNull(i(l).disk)&&i(l).disk.total?n(i(l).disk.total):""),1),t[34]||(t[34]=s("span",{class:"mt15"},"MB",-1))]),s("div",zs,[t[35]||(t[35]=s("span",{class:"f22"},"使用",-1)),s("span",Js,o(!e.isNull(i(l).disk)&&i(l).disk.used?n(i(l).disk.used):""),1),t[36]||(t[36]=s("span",{class:"mt15"},"MB",-1))]),s("div",Ls,[t[37]||(t[37]=s("span",{class:"f22"},"可用",-1)),s("span",Os,o(!e.isNull(i(l).disk)&&i(l).disk.free?n(i(l).disk.free):""),1),t[38]||(t[38]=s("span",{class:"mt15"},"MB",-1))]),t[39]||(t[39]=s("div",{class:"flex-sc flex1"},null,-1))]),s("div",Ts,[t[41]||(t[41]=s("div",{class:"ww100 h38 black-rgba10 rad4"},null,-1)),s("div",{class:c(["h38 absolute z1 t0 l0 radd",e.isNull(i(l).disk)?"":"ww"+Math.floor(i(l).disk.used_percent)]),style:f({backgroundImage:!e.isNull(i(l).disk)&&i(l).disk.used_percent<=35?"linear-gradient(to right, #B1C9F1, #4187FF)":!e.isNull(i(l).disk)&&i(l).disk.used_percent>35&&i(l).disk.used_percent<=70?"linear-gradient(to right, #fcf6c2, #FEC746)":"linear-gradient(to right, #F98994, #DC1185)"})},null,6),s("div",Ds,[t[40]||(t[40]=s("span",null,"已使用：",-1)),s("span",null,o(!e.isNull(i(l).disk)&&i(l).disk.used?n(i(l).disk.used)+"MB":"")+" / "+o(!e.isNull(i(l).disk)&&i(l).disk.total?n(i(l).disk.total)+"MB":""),1)])]),t[43]||(t[43]=s("div",{class:"absolute flex-ec r40 t40 z1"},[s("div",{class:"w50x2 h50x2",id:"Liquidfill_liqu3"})],-1))])])])]))}}),As=J(Is,[["__scopeId","data-v-c6d71822"]]);export{As as default};
