import{bH as x,al as E,am as S,aF as N,aK as P,U as B,ad as q,aG as Q,aA as V,bI as Y,aB as Z,d as p,aJ as _,af as ee,C as ae,aN as te,aI as ie,i as ne,j as D,b as le,o as a,c as v,f as C,b0 as ce,u as i,y as d,ac as y,z as o,w as r,ah as b,av as f,h as s,t as T,a as se,au as oe,x as ue,e as ve,b6 as de,K as m,n as re,bJ as F,a_ as fe,bK as me,aL as he,X as ye}from"./index-CymMRwSV.js";const be=q({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:void 0},loading:Boolean,size:{type:String,validator:Y},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:V},activeActionIcon:{type:V},activeIcon:{type:V},inactiveIcon:{type:V},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Z(Function)},id:String,tabindex:{type:[String,Number]},...Q(["ariaLabel"])}),Ie={[B]:e=>E(e)||S(e)||N(e),[P]:e=>E(e)||S(e)||N(e),[x]:e=>E(e)||S(e)||N(e)},ke=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex"],ge=["aria-hidden"],we={key:1},Ve={key:1},Te=["aria-hidden"],L="ElSwitch";var Ee=p({name:L,__name:"switch",props:be,emits:Ie,setup(e,{expose:M,emit:O}){const l=e,h=O,{formItem:k}=_(),U=ee(),n=ae("switch"),{inputId:G}=te(l,{formItemContext:k}),g=ie(m(()=>{if(l.loading)return!0})),A=ne(l.modelValue!==!1),I=de(),H=m(()=>[n.b(),n.m(U.value),n.is("disabled",g.value),n.is("checked",c.value)]),J=m(()=>[n.e("label"),n.em("label","left"),n.is("active",!c.value)]),R=m(()=>[n.e("label"),n.em("label","right"),n.is("active",c.value)]),j=m(()=>({width:me(l.width)}));D(()=>l.modelValue,()=>{A.value=!0});const K=m(()=>A.value?l.modelValue:!1),c=m(()=>K.value===l.activeValue);[l.activeValue,l.inactiveValue].includes(K.value)||(h(B,l.inactiveValue),h(P,l.inactiveValue),h(x,l.inactiveValue)),D(c,t=>{var u;I.value.checked=t,l.validateEvent&&((u=k?.validate)==null||u.call(k,"change").catch(X=>he()))});const w=()=>{const t=c.value?l.inactiveValue:l.activeValue;h(B,t),h(P,t),h(x,t),re(()=>{I.value.checked=c.value})},$=()=>{if(g.value)return;const{beforeChange:t}=l;if(!t){w();return}const u=t();[F(u),E(u)].includes(!0)||fe(L,"beforeChange must return type `Promise<boolean>` or `boolean`"),F(u)?u.then(z=>{z&&w()}).catch(z=>{}):u&&w()},W=()=>{var t,u;(u=(t=I.value)==null?void 0:t.focus)==null||u.call(t)};return le(()=>{I.value.checked=c.value}),M({focus:W,checked:c}),(t,u)=>(a(),v("div",{class:d(H.value),onClick:ve($,["prevent"])},[C("input",{id:i(G),ref_key:"input",ref:I,class:d(i(n).e("input")),type:"checkbox",role:"switch","aria-checked":c.value,"aria-disabled":i(g),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:i(g),tabindex:e.tabindex,onChange:w,onKeydown:ce($,["enter"])},null,42,ke),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText||t.$slots.inactive)?(a(),v("span",{key:0,class:d(J.value)},[y(t.$slots,"inactive",{},()=>[e.inactiveIcon?(a(),o(i(f),{key:0},{default:r(()=>[(a(),o(b(e.inactiveIcon)))]),_:1})):s("v-if",!0),!e.inactiveIcon&&e.inactiveText?(a(),v("span",{key:1,"aria-hidden":c.value},T(e.inactiveText),9,ge)):s("v-if",!0)])],2)):s("v-if",!0),C("span",{class:d(i(n).e("core")),style:ue(j.value)},[e.inlinePrompt?(a(),v("div",{key:0,class:d(i(n).e("inner"))},[c.value?(a(),v("div",{key:1,class:d(i(n).e("inner-wrapper"))},[y(t.$slots,"active",{},()=>[e.activeIcon?(a(),o(i(f),{key:0},{default:r(()=>[(a(),o(b(e.activeIcon)))]),_:1})):s("v-if",!0),!e.activeIcon&&e.activeText?(a(),v("span",Ve,T(e.activeText),1)):s("v-if",!0)])],2)):(a(),v("div",{key:0,class:d(i(n).e("inner-wrapper"))},[y(t.$slots,"inactive",{},()=>[e.inactiveIcon?(a(),o(i(f),{key:0},{default:r(()=>[(a(),o(b(e.inactiveIcon)))]),_:1})):s("v-if",!0),!e.inactiveIcon&&e.inactiveText?(a(),v("span",we,T(e.inactiveText),1)):s("v-if",!0)])],2))],2)):s("v-if",!0),C("div",{class:d(i(n).e("action"))},[e.loading?(a(),o(i(f),{key:0,class:d(i(n).is("loading"))},{default:r(()=>[se(i(oe))]),_:1},8,["class"])):c.value?y(t.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(a(),o(i(f),{key:0},{default:r(()=>[(a(),o(b(e.activeActionIcon)))]),_:1})):s("v-if",!0)]):c.value?s("v-if",!0):y(t.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(a(),o(i(f),{key:0},{default:r(()=>[(a(),o(b(e.inactiveActionIcon)))]),_:1})):s("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText||t.$slots.active)?(a(),v("span",{key:1,class:d(R.value)},[y(t.$slots,"active",{},()=>[e.activeIcon?(a(),o(i(f),{key:0},{default:r(()=>[(a(),o(b(e.activeIcon)))]),_:1})):s("v-if",!0),!e.activeIcon&&e.activeText?(a(),v("span",{key:1,"aria-hidden":!c.value},T(e.activeText),9,Te)):s("v-if",!0)])],2)):s("v-if",!0)],2))}});const Ne=ye(Ee);export{Ne as E};
