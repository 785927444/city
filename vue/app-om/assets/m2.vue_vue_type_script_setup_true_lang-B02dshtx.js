import{d as S,g as x,r as N,b as k,j as f,o as C,c as B,f as t,e as w,a1 as o,t as p,u as m,n as h}from"./index-BF5jje68.js";import{_ as J,a as O}from"./a_scheme2-D74ygLFo.js";import{e as q}from"./chart-BmAYB4av.js";const L={class:"layout-col"},z={class:"ww100 flex-bc h60 mb15"},D={class:"layout-col"},T={class:"ww100 bg-white rad8 p15 mb15"},$={class:"ww100 flex-bc i2 f12"},A={class:"flex1 flex-sc"},I={class:"mlr4 i1 fw f20"},M={class:"flex1 flex-ec"},P={class:"mlr4 i1 fw f20"},X=S({__name:"m2",setup(V){const{drawChart:d}=q(),{proxy:r}=x(),a=r.publicStore();r.configStore(),N({...a.$state}),k(async()=>{await b(),g()});const b=async()=>{},g=async e=>{};f(()=>a._public.percent,async(e,s)=>{if(r.isNull(e)||JSON.stringify(e)==JSON.stringify(s))return;await h(),y(JSON.parse(JSON.stringify({name:"比例",status:1,value:e})))},{immediate:!1,deep:!0});const y=async e=>{d("Liquidfill","Liquidfill_liqu",{},e,{colorList:[],radius:["78%","60%"],labelShow:!0})};f(()=>a._public.responses,async(e,s)=>{r.isNull(e)||JSON.stringify(e)!=JSON.stringify(s)&&(await h(),_(e))},{immediate:!1,deep:!0});const _=async e=>{let s="Barsx",i="Bar_responses",l={min:0,colorList:[],legendArr:[],legendX:"center",legendShow:!0,labelShow:!0,areaShow:!1,smooth:!0,tooltip:!0,y_name:"数量",tool_name_x:"地区：",tool_name_y:"数值："},c={data:[]};c=e.map(n=>{l.legendArr.push(n.name);let v=n.data.map(u=>[Number(u[1]),u[0]]);return n.data.length>20&&(l.symbol=!0),{data:v}}),d(s,i,l,{series:c},{})};return(e,s)=>(C(),B("div",L,[t("div",z,[t("div",{class:"hh100 ww48 rad8 f18 fw flex-cc cursor white relative hidden",onClick:s[0]||(s[0]=w(i=>e.toPath("/schemeDesignReport"),["stop"]))},[...s[2]||(s[2]=[t("img",{class:"ww100 hh100",src:J},null,-1),t("span",{class:"absolute-cc z1 ww100 tc"},"片区策划上报",-1)])]),t("div",{class:"hh100 ww48 rad8 f18 fw flex-cc cursor white relative hidden",onClick:s[1]||(s[1]=w(i=>e.toPath("/schemeDesignTrack"),["stop"]))},[...s[3]||(s[3]=[t("img",{class:"ww100 hh100",src:O},null,-1),t("span",{class:"absolute-cc z1 ww100 tc"},"片区规划跟踪",-1)])])]),t("div",D,[t("div",T,[s[9]||(s[9]=t("div",{class:"c9 f16 fw mb10"},"片区策划上报情况",-1)),t("div",$,[t("div",A,[s[4]||(s[4]=o("共",-1)),t("span",I,p(m(a)._public?.data1?.sum??"0"),1),s[5]||(s[5]=o("个上报单位",-1))]),s[8]||(s[8]=t("div",{class:"w90 h90 bg-white bo-i1-8 rad50 p8 relative"},[t("div",{class:"absolute-cc z1"},[t("div",{class:"w60 h60",id:"Liquidfill_liqu"})])],-1)),t("div",M,[s[6]||(s[6]=o("有",-1)),t("span",P,p(m(a)._public?.data1?.release??"0"),1),s[7]||(s[7]=o("个完成上报",-1))])])]),s[10]||(s[10]=t("div",{class:"layout-col bg-white rad8 p15"},[t("div",{class:"c9 f16 fw mb10"},"规划内容"),t("div",{class:"hh100 ww100",id:"Bar_responses"})],-1))])]))}});export{X as _};
