import{d as O,b as R,j as W,aq as K,o as f,c as x,f as a,a as t,w as d,Z,y as g,F as G,p as H,e as b,da as j,r as J,i as u,K as B,n as Q,$ as X,a8 as Y,m as ee,q as ae,E as te,a0 as se,a1 as le,t as v,z as ne,h as oe,u as P,db as y,l as de}from"./index-C0LFq0t5.js";import{E as ie}from"./el-pagination-BB8JCOIr.js";import{_ as re}from"./check-CqQe_O-a.js";import{h as ce}from"./index-Da8m4HG1.js";const pe={class:"push-library-container"},ue={class:"layout-row"},ve={class:"left-panel"},me={class:"filter-card bg-white rad8 p8 mb15"},fe={class:"list-card layout-col flex1 bg-white rad8 p8"},ge={class:"ww100 flex-sc p8"},be={class:"flex-sc fw f16 tc"},_e={class:"table flex-sc warp"},we=["onClick"],he={class:"ww100 flex-sc p12 bob-ce-1"},ke={class:"f15 line1"},xe={class:"flex1 flex-ec"},ye={class:"ww100 flex-col p12 c6"},Ve={class:"ww100 flex-sc"},Ce={class:"flex1 line1"},Te={class:"ww100 flex-sc mt10"},Ee={class:"flex1 line1"},je={class:"ww100 flex-sc mt10"},Be={class:"flex1 line1"},Pe={class:"ww100 flex-sc mt10"},Ue={class:"flex1 line1"},$e={class:"ww100 flex-sc mt10"},ze={class:"flex-sc flex1"},Le={class:"flex1 line1"},Se={class:"project-card-actions"},Ae=["onClick"],qe={class:"pagination"},Ne={class:"right-panel ml15"},Fe={class:"quick-actions"},De={class:"bg-white rad8 p15 right-card"},Ie=O({__name:"projectPush",setup(Me){const o=J({period:[],city:"太原市",district:"小店区",stage:"储备阶段",investment:"5千万以上",type:"加强既有建筑改造",keyword:""}),p=u("pending"),_=u(!1),w=u(9),h=u(1),U=u([{id:1,name:"龙城片区旧城改造项目",region:"太原市-小店区",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"pending",checked:!1},{id:2,name:"迎泽区老旧小区提升项目",region:"太原市-迎泽区",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"pending",checked:!1},{id:3,name:"杏花岭区片区更新项目",region:"太原市-杏花岭区",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"pending",checked:!1},{id:4,name:"万柏林区综合整治项目",region:"太原市-万柏林区",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"pending",checked:!1},{id:5,name:"晋源区道路提升项目",region:"太原市-晋源区",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"recommended",checked:!1},{id:6,name:"尖草坪区街区改造项目",region:"太原市-尖草坪区",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"recommended",checked:!1},{id:7,name:"清徐县城中村改造项目",region:"太原市-清徐县",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"pending",checked:!1},{id:8,name:"阳曲县片区更新项目",region:"太原市-阳曲县",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"pending",checked:!1},{id:9,name:"娄烦县旧城改造项目",region:"太原市-娄烦县",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"rejected",checked:!1},{id:10,name:"古交市片区更新项目",region:"太原市-古交市",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"pending",checked:!1},{id:11,name:"龙城片区配套完善项目",region:"太原市-小店区",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"recommended",checked:!1},{id:12,name:"迎泽区基础设施提升项目",region:"太原市-迎泽区",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"pending",checked:!1}]),V=u([{name:"太原-大营区",blue:190,cyan:171},{name:"古交市",blue:100,cyan:185},{name:"娄烦县",blue:200,cyan:148},{name:"阳曲县",blue:100,cyan:219},{name:"清徐县",blue:150,cyan:141}]),C=u();let c=null;const T=B(()=>U.value.filter(l=>l.status===p.value)),E=B(()=>{const l=(h.value-1)*w.value;return T.value.slice(l,l+w.value)}),$=l=>{h.value=l},z=()=>{E.value.forEach(l=>{l.checked=_.value})},L=()=>{_.value=!_.value,z()},S=l=>{l.checked=!l.checked},A=l=>{y("/project-push/apply",{demo:1,name:l.name,id:l.id})},m=async()=>{await Q();const l=C.value;if(!l)return;c&&(c.dispose(),c=null),c=ce(l);const e=V.value||[],k=e.map(i=>i.name),r=e.map(i=>i.blue),n=e.map(i=>i.cyan);c.setOption({grid:{left:60,right:20,top:10,bottom:20,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"value",splitLine:{lineStyle:{color:"#e5e7eb"}}},yAxis:{type:"category",data:k,axisTick:{show:!1}},series:[{name:"实施中项目",type:"bar",data:r,barWidth:10,itemStyle:{color:"#2b5cff"}},{name:"深规中项目",type:"bar",data:n,barWidth:10,itemStyle:{color:"#56c2e6"}}]})};return R(()=>{m(),window.addEventListener("resize",m)}),W(V,()=>{m()},{deep:!0}),K(()=>{window.removeEventListener("resize",m),c&&(c.dispose(),c=null)}),(l,e)=>{const k=Y,r=X,n=ae,i=ee,q=te,N=se,F=Z,D=re,I=ie;return f(),x("div",pe,[a("div",ue,[a("div",ve,[a("div",me,[t(F,{inline:!0,model:o,class:"filter-form"},{default:d(()=>[t(r,{label:"项目周期"},{default:d(()=>[t(k,{modelValue:o.period,"onUpdate:modelValue":e[0]||(e[0]=s=>o.period=s),type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",style:{width:"240px"}},null,8,["modelValue"])]),_:1}),t(r,{label:"所属地区"},{default:d(()=>[t(i,{modelValue:o.city,"onUpdate:modelValue":e[1]||(e[1]=s=>o.city=s),placeholder:"太原市",style:{width:"140px"}},{default:d(()=>[t(n,{label:"太原市",value:"太原市"}),t(n,{label:"大同市",value:"大同市"}),t(n,{label:"晋中市",value:"晋中市"})]),_:1},8,["modelValue"]),t(i,{modelValue:o.district,"onUpdate:modelValue":e[2]||(e[2]=s=>o.district=s),placeholder:"小店区",style:{width:"140px","margin-left":"10px"}},{default:d(()=>[t(n,{label:"小店区",value:"小店区"}),t(n,{label:"迎泽区",value:"迎泽区"}),t(n,{label:"杏花岭区",value:"杏花岭区"})]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"项目阶段"},{default:d(()=>[t(i,{modelValue:o.stage,"onUpdate:modelValue":e[3]||(e[3]=s=>o.stage=s),placeholder:"储备阶段",style:{width:"140px"}},{default:d(()=>[t(n,{label:"储备阶段",value:"储备阶段"}),t(n,{label:"实施阶段",value:"实施阶段"}),t(n,{label:"完工阶段",value:"完工阶段"})]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"总投资金额"},{default:d(()=>[t(i,{modelValue:o.investment,"onUpdate:modelValue":e[4]||(e[4]=s=>o.investment=s),placeholder:"5千万以上",style:{width:"140px"}},{default:d(()=>[t(n,{label:"5千万以上",value:"5千万以上"}),t(n,{label:"1亿以上",value:"1亿以上"}),t(n,{label:"2亿以上",value:"2亿以上"})]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"项目类型"},{default:d(()=>[t(i,{modelValue:o.type,"onUpdate:modelValue":e[5]||(e[5]=s=>o.type=s),placeholder:"加强既有建筑改造",style:{width:"200px"}},{default:d(()=>[t(n,{label:"加强既有建筑改造",value:"加强既有建筑改造"}),t(n,{label:"完善社区服务设施",value:"完善社区服务设施"}),t(n,{label:"改善人居环境",value:"改善人居环境"})]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"项目名称"},{default:d(()=>[t(q,{modelValue:o.keyword,"onUpdate:modelValue":e[6]||(e[6]=s=>o.keyword=s),placeholder:"请输入",style:{width:"180px"}},null,8,["modelValue"])]),_:1}),t(r,null,{default:d(()=>[t(N,{type:"primary",class:"search-btn"},{default:d(()=>[...e[12]||(e[12]=[le("搜索",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),a("div",fe,[a("div",ge,[a("div",be,[a("div",{class:"mr40 cursor flex-col-cc relative",onClick:e[7]||(e[7]=s=>p.value="pending")},[e[13]||(e[13]=a("span",{class:"mb5"},"待审核",-1)),a("span",{class:g(["ww100 h3 rad10",p.value==="pending"?"bgi2":"black-rgba0"])},null,2)]),a("div",{class:"mr40 cursor flex-col-cc relative",onClick:e[8]||(e[8]=s=>p.value="recommended")},[e[14]||(e[14]=a("span",{class:"mb5"},"推送库",-1)),a("span",{class:g(["ww100 h3 rad10",p.value==="recommended"?"bgi2":"black-rgba0"])},null,2)]),a("div",{class:"mr40 cursor flex-col-cc relative",onClick:e[9]||(e[9]=s=>p.value="rejected")},[e[15]||(e[15]=a("span",{class:"mb5"},"已退回",-1)),a("span",{class:g(["ww100 h3 rad10",p.value==="rejected"?"bgi2":"black-rgba0"])},null,2)])]),a("div",{class:"flex-ec flex1"},[a("div",{class:"rad4 ptb5 plr12 flex-cc cursor bg-white c8 bo-cc-1 ml15",onClick:L},"全选"),e[16]||(e[16]=a("div",{class:"rad4 ptb5 plr12 flex-cc cursor bgi1 white bo-i1-1 ml15"},"提醒",-1))])]),a("div",_e,[(f(!0),x(G,null,H(E.value,s=>(f(),x("div",{class:"ww25 cursor p8",key:s.id},[a("div",{class:"ww100 bs bo-i16-1 relative rad8 project-card",onClick:b(M=>S(s),["stop"])},[a("div",he,[a("span",ke,v(s.name),1),a("span",xe,[a("span",{class:g(["w28 h28 tc lh28 rad6 ml10 white f14",s.checked?"bgi1 bo-i1-1":"bo-cc-1 bg-white c8"])},[s.checked?(f(),ne(D,{key:0})):oe("",!0)],2)])]),a("div",ye,[a("div",Ve,[e[17]||(e[17]=a("span",{class:"w110"},"所属地区",-1)),a("span",Ce,v(s.region),1)]),a("div",Te,[e[18]||(e[18]=a("span",{class:"w110"},"项目周期",-1)),a("span",Ee,v(s.period),1)]),a("div",je,[e[19]||(e[19]=a("span",{class:"w110"},"投资估算",-1)),a("span",Be,v(s.investment),1)]),a("div",Pe,[e[20]||(e[20]=a("span",{class:"w110"},"项目性质",-1)),a("span",Ue,v(s.nature),1)]),a("div",$e,[a("div",ze,[e[21]||(e[21]=a("span",{class:"w110"},"更新进度时间",-1)),a("span",Le,v(s.updateTime),1)])])]),a("div",Se,[a("div",{class:"rad5 ptb5 plr12 cursor bgi1 white",onClick:b(M=>A(s),["stop"])},"审批",8,Ae)])],8,we)]))),128))]),a("div",qe,[t(I,{background:"",layout:"prev, pager, next",total:T.value.length,"page-size":w.value,"current-page":h.value,onCurrentChange:$},null,8,["total","page-size","current-page"])])])]),a("div",Ne,[a("div",Fe,[a("div",{class:"quick-card",onClick:e[10]||(e[10]=b(s=>P(y)("/project-push/ledger"),["stop"]))},"项目台账"),a("div",{class:"quick-card",onClick:e[11]||(e[11]=b(s=>P(y)("/project-push/tracking"),["stop"]))},"项目实施跟踪")]),e[23]||(e[23]=j('<div class="bg-white rad8 p15 mb15 right-card" data-v-96486378><div class="chart-title" data-v-96486378>项目实施情况</div><div class="ring-wrap" data-v-96486378><div class="ring" data-v-96486378><span data-v-96486378>50%</span></div></div><div class="ring-info" data-v-96486378><div data-v-96486378>共<span class="highlight" data-v-96486378>51</span>个上报项目</div><div data-v-96486378>处于推进中状态</div></div></div>',1)),a("div",De,[e[22]||(e[22]=j('<div class="chart-title" data-v-96486378>项目分布情况</div><div class="legend" data-v-96486378><span class="legend-item" data-v-96486378><span class="dot blue" data-v-96486378></span>实施中项目</span><span class="legend-item" data-v-96486378><span class="dot cyan" data-v-96486378></span>深规中项目</span></div>',2)),a("div",{ref_key:"barChartRef",ref:C,class:"bar-chart"},null,512)])])])])}}}),Ze=de(Ie,[["__scopeId","data-v-96486378"]]);export{Ze as default};
