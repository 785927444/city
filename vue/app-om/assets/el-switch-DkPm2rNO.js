import{by as P,al as T,am as S,b7 as C,b0 as x,U as B,ad as q,bz as J,aA as w,bA as Q,aB as Y,d as p,bB as _,af as ee,C as ae,bC as te,aO as ie,i as ne,j as K,b as le,o as a,c as v,f as N,aP as ce,u as i,y as d,ac as b,z as o,w as r,ah as y,av as f,h as s,t as E,a as se,au as oe,x as ue,e as ve,aV as de,K as m,n as re,bD as M,aM as fe,bE as me,aZ as he,X as be}from"./index-BF5jje68.js";const ye=q({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:void 0},loading:Boolean,size:{type:String,validator:Q},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:w},activeActionIcon:{type:w},activeIcon:{type:w},inactiveIcon:{type:w},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Y(Function)},id:String,tabindex:{type:[String,Number]},...J(["ariaLabel"])}),ke={[B]:e=>T(e)||S(e)||C(e),[x]:e=>T(e)||S(e)||C(e),[P]:e=>T(e)||S(e)||C(e)},Ie=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex"],ge=["aria-hidden"],Ve={key:1},we={key:1},Ee=["aria-hidden"],O="ElSwitch";var Te=p({name:O,__name:"switch",props:ye,emits:ke,setup(e,{expose:F,emit:L}){const l=e,h=L,{formItem:I}=_(),U=ee(),n=ae("switch"),{inputId:R}=te(l,{formItemContext:I}),g=ie(m(()=>{if(l.loading)return!0})),A=ne(l.modelValue!==!1),k=de(),j=m(()=>[n.b(),n.m(U.value),n.is("disabled",g.value),n.is("checked",c.value)]),G=m(()=>[n.e("label"),n.em("label","left"),n.is("active",!c.value)]),H=m(()=>[n.e("label"),n.em("label","right"),n.is("active",c.value)]),W=m(()=>({width:me(l.width)}));K(()=>l.modelValue,()=>{A.value=!0});const z=m(()=>A.value?l.modelValue:!1),c=m(()=>z.value===l.activeValue);[l.activeValue,l.inactiveValue].includes(z.value)||(h(B,l.inactiveValue),h(x,l.inactiveValue),h(P,l.inactiveValue)),K(c,t=>{var u;k.value.checked=t,l.validateEvent&&((u=I?.validate)==null||u.call(I,"change").catch(Z=>he()))});const V=()=>{const t=c.value?l.inactiveValue:l.activeValue;h(B,t),h(x,t),h(P,t),re(()=>{k.value.checked=c.value})},$=()=>{if(g.value)return;const{beforeChange:t}=l;if(!t){V();return}const u=t();[M(u),T(u)].includes(!0)||fe(O,"beforeChange must return type `Promise<boolean>` or `boolean`"),M(u)?u.then(D=>{D&&V()}).catch(D=>{}):u&&V()},X=()=>{var t,u;(u=(t=k.value)==null?void 0:t.focus)==null||u.call(t)};return le(()=>{k.value.checked=c.value}),F({focus:X,checked:c}),(t,u)=>(a(),v("div",{class:d(j.value),onClick:ve($,["prevent"])},[N("input",{id:i(R),ref_key:"input",ref:k,class:d(i(n).e("input")),type:"checkbox",role:"switch","aria-checked":c.value,"aria-disabled":i(g),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:i(g),tabindex:e.tabindex,onChange:V,onKeydown:ce($,["enter"])},null,42,Ie),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText||t.$slots.inactive)?(a(),v("span",{key:0,class:d(G.value)},[b(t.$slots,"inactive",{},()=>[e.inactiveIcon?(a(),o(i(f),{key:0},{default:r(()=>[(a(),o(y(e.inactiveIcon)))]),_:1})):s("v-if",!0),!e.inactiveIcon&&e.inactiveText?(a(),v("span",{key:1,"aria-hidden":c.value},E(e.inactiveText),9,ge)):s("v-if",!0)])],2)):s("v-if",!0),N("span",{class:d(i(n).e("core")),style:ue(W.value)},[e.inlinePrompt?(a(),v("div",{key:0,class:d(i(n).e("inner"))},[c.value?(a(),v("div",{key:1,class:d(i(n).e("inner-wrapper"))},[b(t.$slots,"active",{},()=>[e.activeIcon?(a(),o(i(f),{key:0},{default:r(()=>[(a(),o(y(e.activeIcon)))]),_:1})):s("v-if",!0),!e.activeIcon&&e.activeText?(a(),v("span",we,E(e.activeText),1)):s("v-if",!0)])],2)):(a(),v("div",{key:0,class:d(i(n).e("inner-wrapper"))},[b(t.$slots,"inactive",{},()=>[e.inactiveIcon?(a(),o(i(f),{key:0},{default:r(()=>[(a(),o(y(e.inactiveIcon)))]),_:1})):s("v-if",!0),!e.inactiveIcon&&e.inactiveText?(a(),v("span",Ve,E(e.inactiveText),1)):s("v-if",!0)])],2))],2)):s("v-if",!0),N("div",{class:d(i(n).e("action"))},[e.loading?(a(),o(i(f),{key:0,class:d(i(n).is("loading"))},{default:r(()=>[se(i(oe))]),_:1},8,["class"])):c.value?b(t.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(a(),o(i(f),{key:0},{default:r(()=>[(a(),o(y(e.activeActionIcon)))]),_:1})):s("v-if",!0)]):c.value?s("v-if",!0):b(t.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(a(),o(i(f),{key:0},{default:r(()=>[(a(),o(y(e.inactiveActionIcon)))]),_:1})):s("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText||t.$slots.active)?(a(),v("span",{key:1,class:d(H.value)},[b(t.$slots,"active",{},()=>[e.activeIcon?(a(),o(i(f),{key:0},{default:r(()=>[(a(),o(y(e.activeIcon)))]),_:1})):s("v-if",!0),!e.activeIcon&&e.activeText?(a(),v("span",{key:1,"aria-hidden":!c.value},E(e.activeText),9,Ee)):s("v-if",!0)])],2)):s("v-if",!0)],2))}});const Ce=be(Te);export{Ce as E};
