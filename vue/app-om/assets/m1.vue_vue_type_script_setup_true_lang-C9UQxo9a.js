import{_ as k}from"./Add-CEL0KAmB.js";import{_ as g}from"./AaFoot-DEQbEpoG.js";import{_ as b}from"./List.vue_vue_type_script_setup_true_lang-DXXgUW06.js";import{_ as v}from"./AbTitle.vue_vue_type_script_setup_true_lang-Dk_I9lvQ.js";import{d as x,g as C,r as N,b as q,o as _,c as u,a as r,w as S,u as n,e as V,_ as $,f as m,t as j,h as B,i as I}from"./index-Bd85TTIS.js";const R={class:"layout-col"},A={class:"f14 ml2"},M={class:"layout-col"},P=x({__name:"m1",setup(D){const{proxy:s}=C(),i=s.publicStore();s.configStore(),s.dictStore();let c=I();const e=N({...i.$state,listRow:!0,content:[{width:"w50",show:!0,align:"left",key:"*",name:"序号"},{width:"w50x2",show:!0,align:"left",key:"name",name:"名称",type:"icon1"},{width:"flex1",show:!0,align:"right",key:{add:"添加",upd:"编辑",del:"删除"},name:"操作"}],editFrom:[{required:!0,editshow:!0,name:"名称",key:"name",type:"input"},{required:!0,editshow:!0,name:"类型",key:"type",type:"input"},{required:!1,editshow:!0,name:"排序",key:"order",type:"input"}]});q(async()=>{p()});const p=async o=>{e.query={model:e.model,args:"parent_id='0'"},e.params={Api:e.query};let t=await i.http(e.params);e.empty=!!s.isNull(t),e.list=s.isNull(t)?[]:t.sort((l,d)=>l.order-d.order),i._public.list=e.list,o||(i.active=s.isNull(t)?{}:e.list[0])},f=(o,t)=>{(o=="add"||o=="upd")&&c.value.onVisable(t),o=="del"&&c.value.del(t),o=="active"&&(i.active={...t})};return(o,t)=>{const l=$,d=v,y=b,h=g,w=k;return _(),u("div",R,[r(d,{title:"字典"},{"right-content":S(()=>[n(e).content.find(a=>typeof a.key=="object")&&n(e).content.find(a=>typeof a.key=="object").key.hasOwnProperty("add")?(_(),u("div",{key:0,class:"rad4 ptb5 plr8 flex-cc cursor bgi1 white ml10",onClick:t[0]||(t[0]=V(a=>n(c).onVisable(n(e).addItem),["stop"]))},[r(l,{class:"f12 fw"}),m("span",A,j(n(e).content.find(a=>typeof a.key=="object").key.add),1)])):B("",!0)]),_:1}),m("div",M,[r(y,{onHandleClick:f,state:n(e)},null,8,["state"])]),r(h),r(w,{onInit:p,state:n(e),ref_key:"addRef",ref:c},null,8,["state"])])}}});export{P as _};
