import{_ as x}from"./ViewFiles-BGc_2hC6.js";import{_ as k}from"./UploadText-Czi9cq55.js";import{d as b,g,Y as C,o as a,c as o,F,p as V,f as t,t as i,z as B,h as f,e as m,a as M,aF as N,i as S}from"./index-ClTGGYJq.js";const U={class:"ww100 plr30 ptb22 bo-i16-1 rad5 flex-sc warp bg-white"},A={class:"ww100 bs bo-i16-1 relative rad8"},L={class:"ww100 flex-sc p12 bob-ce-1"},R={class:"f15"},T={class:"flex1 flex-ec"},$={class:"ww100 flex-col p12"},j={class:"ww100 flex-sc"},z={class:"flex1 line1"},D={class:"ww100 flex-sc mt12"},E={class:"flex1 line1"},I={class:"ww100 flex-sc mt12"},O={class:"flex1 line1"},P={class:"ww100 flex-ec mt12"},Y=["onClick"],q={key:1,class:"ml12 ca"},G=["onClick"],H={key:3,class:"ml12 ca"},W=b({__name:"FileList",props:N({contents:{type:Array,default:[]},active:{type:[Object,Array],default:()=>({})}},{files:{},filesModifiers:{}}),emits:["update:files"],setup(d){const{proxy:_}=g();_.publicStore(),_.configStore();let u=S();const s=C(d,"files"),c=d,y=n=>{const p=s.value[n.type].data;u.value.onVisable(p)},w=async n=>{delete s.value[n.type]};return(n,l)=>{const p=k,v=x;return a(),o("div",U,[c.active&&s.value?(a(!0),o(F,{key:0},V(c.contents?c.contents.filter(e=>e.parent_id==c.active.id):[],(e,h)=>(a(),o("div",{class:"ww25 flex-sc ptb8 pr16",key:h},[t("div",A,[t("div",L,[t("span",R,i(e.name),1),t("span",T,[e.type?(a(),B(p,{key:0,model:s.value[e.type],"onUpdate:model":r=>s.value[e.type]=r},null,8,["model","onUpdate:model"])):f("",!0)])]),t("div",$,[t("div",j,[l[0]||(l[0]=t("span",{class:"w90 c8"},"上传状态",-1)),t("span",z,i(s.value[e.type]&&s.value[e.type].status?s.value[e.type].status=="success"?"成功":"失败":"-"),1)]),t("div",D,[l[1]||(l[1]=t("span",{class:"w90 c8"},"文件类型",-1)),t("span",E,i(s.value[e.type]&&s.value[e.type].type?s.value[e.type].type:"-"),1)]),t("div",I,[l[2]||(l[2]=t("span",{class:"w90 c8"},"上传时间",-1)),t("span",O,i(s.value[e.type]&&s.value[e.type].time?n.parseTime(s.value[e.type].time):"-"),1)]),t("div",P,[s.value[e.type]?(a(),o("span",{key:0,class:"ml12 i1 cursor",onClick:m(r=>y(e),["stop"])},"预览",8,Y)):(a(),o("span",q,"预览")),s.value[e.type]?(a(),o("span",{key:2,class:"ml12 i9 cursor",onClick:m(r=>w(e),["stop"])},"删除",8,G)):(a(),o("span",H,"删除"))])])])]))),128)):f("",!0),M(v,{ref_key:"viewRef",ref:u},null,512)])}}});export{W as _};
