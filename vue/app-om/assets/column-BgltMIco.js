import{ad as Y,d as q,C as K,d4 as H,o as a,c as r,f as t,u as s,aC as O,ac as N,a as c,x as R,y as $,t as _,h as S,K as G,bK as X,X as Z,g as J,b as Q,j as P,a3 as W,F as V,p as B,z,w as y,k as tt,a6 as et,r as st,e as k,E as lt,b0 as j,l as ot}from"./index-CymMRwSV.js";import{v as at}from"./el-loading-Bz52rtYK.js";import{E as it,a as nt}from"./el-table-column-D8RLsYXD.js";import"./el-checkbox-DcAGyG1S.js";import{_ as rt}from"./arrow-right-B28xk3WW.js";import{_ as ct}from"./AaTitle.vue_vue_type_script_setup_true_lang-BA3Fb0N5.js";import{E as dt}from"./el-pagination-Dn7oVmkx.js";const pt=Y({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),_t={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},ft=["id"],mt=["stop-color"],ut=["stop-color"],ht=["id"],gt=["stop-color"],vt=["stop-color"],yt=["id"],wt={stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},bt={transform:"translate(-1268.000000, -535.000000)"},$t={transform:"translate(1268.000000, 535.000000)"},kt=["fill"],xt=["fill"],Ct={transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},Nt=["fill"],Vt=["fill"],Bt=["fill"],zt=["fill"],St=["fill"],qt={transform:"translate(53.000000, 45.000000)"},Et=["fill","xlink:href"],It=["fill","mask"],Dt=["fill"];var Mt=q({name:"ImgEmpty",__name:"img-empty",setup(w){const i=K("empty"),d=H();return(m,e)=>(a(),r("svg",_t,[t("defs",null,[t("linearGradient",{id:`linearGradient-1-${s(d)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[t("stop",{"stop-color":`var(${s(i).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,mt),t("stop",{"stop-color":`var(${s(i).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,ut)],8,ft),t("linearGradient",{id:`linearGradient-2-${s(d)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[t("stop",{"stop-color":`var(${s(i).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,gt),t("stop",{"stop-color":`var(${s(i).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,vt)],8,ht),t("rect",{id:`path-3-${s(d)}`,x:"0",y:"0",width:"17",height:"36"},null,8,yt)]),t("g",wt,[t("g",bt,[t("g",$t,[t("path",{d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${s(i).cssVarBlockName("fill-color-3")})`},null,8,kt),t("polygon",{fill:`var(${s(i).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,xt),t("g",Ct,[t("polygon",{fill:`var(${s(i).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,Nt),t("polygon",{fill:`var(${s(i).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,Vt),t("rect",{fill:`url(#linearGradient-1-${s(d)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,Bt),t("polygon",{fill:`var(${s(i).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,zt)]),t("rect",{fill:`url(#linearGradient-2-${s(d)})`,x:"13",y:"45",width:"40",height:"36"},null,8,St),t("g",qt,[t("use",{fill:`var(${s(i).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${s(d)}`},null,8,Et),t("polygon",{fill:`var(${s(i).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${s(d)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,It)]),t("polygon",{fill:`var(${s(i).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,Dt)])])])]))}});const Gt=["src"],Pt={key:1};var jt=q({name:"ElEmpty",__name:"empty",props:pt,setup(w){const i=w,{t:d}=O(),m=K("empty"),e=G(()=>i.description||d("el.table.emptyText")),x=G(()=>({width:X(i.imageSize)}));return(u,E)=>(a(),r("div",{class:$(s(m).b())},[t("div",{class:$(s(m).e("image")),style:R(x.value)},[w.image?(a(),r("img",{key:0,src:w.image,ondragstart:"return false"},null,8,Gt)):N(u.$slots,"image",{key:1},()=>[c(Mt)])],6),t("div",{class:$(s(m).e("description"))},[u.$slots.description?N(u.$slots,"description",{key:0}):(a(),r("p",Pt,_(e.value),1))],2),u.$slots.default?(a(),r("div",{key:0,class:$(s(m).e("bottom"))},[N(u.$slots,"default")],2)):S("v-if",!0)],2))}});const Kt=Z(jt),Lt={class:"layout-col"},Tt={key:0,class:"flex-col h100 p15"},Ut={class:"flex-sc align-start flex1 overflow-hidden"},At={class:"flex1 bg-white rad8 p20 mr20 h100 flex-col overflow-hidden"},Ft={class:"flex1 overflow-y-auto pr10"},Yt=["onClick"],Ht={class:"date-box mr20 tc"},Ot={class:"f24 fw c-primary"},Rt={class:"c9 f12"},Xt={class:"flex-col flex1 mr20"},Zt={class:"f16 fw mb10 line1"},Jt={class:"c9 f12 flex-sc"},Qt={class:"mr10"},Wt={class:"w120 h80 rad4 overflow-hidden flex-shrink-0"},te=["src"],ee={key:1,src:"https://picsum.photos/120/80?random=1",class:"ww100 hh100 object-cover"},se={class:"flex-ec mt15 pt10 bt-e"},le={class:"w320 bg-white rad8 p20 h100 flex-col overflow-hidden"},oe={class:"flex1 overflow-y-auto"},ae={class:"f14 fw line2 mb5"},ie={class:"f12 c9 line3"},ne={key:1,class:"layout-col"},re={class:"flex-sc ml15"},ce={class:"flex1 bg-white rad8 p20 m15 overflow-y-auto"},de={class:"grid-container"},pe=["onClick"],_e={class:"cover-box relative",style:{"padding-top":"56.25%"}},fe=["src"],me=["src"],ue={class:"p15"},he=["title"],ge={class:"flex-bc c9 f12"},ve={class:"flex-ec mt20"},ye={key:2,class:"layout-col"},we={class:"flex-sc ml15"},be={class:"white-rgba50 rad8 p15 m15 flex1 overflow-hidden flex-col"},$e=["onClick"],ke={class:"flex-ec mt15"},xe=q({__name:"column",setup(w){const{proxy:i}=J(),d=et(),m={policy:"政策法规",standard:"标准规范",mechanism:"工作机制",expert:"专家智库",case:"优秀案例",course:"培训课程",all:"全部专栏"},e=st({code:"all",title:"知识库专栏",q:"",page:1,limit:20,total:0,list:[],loading:!1}),x=[{title:"《关于全面开展城市体检工作的指导意见》",desc:"以习近平新时代中国特色社会主义思想为指引，坚持发展理念以及“人民城市”理念"},{title:"《城市体检评估机制建设指南》",desc:"规范城市体检评估工作，推动城市高质量发展"},{title:"《关于实施城市更新行动的指导意见》",desc:"全面推进城镇老旧小区改造，提升城市功能和品质"},{title:"《“十四五”新型城镇化实施方案》",desc:"深入推进以人为核心的新型城镇化战略"},{title:"《国家生态园林城市标准》",desc:"促进城市生态文明建设，改善城市人居环境"}],u=n=>{if(!n)return"01.01";const l=new Date(n);return isNaN(l.getTime())?"01.01":`${String(l.getMonth()+1).padStart(2,"0")}.${String(l.getDate()).padStart(2,"0")}`},E=n=>{if(!n)return"2023";const l=new Date(n);return isNaN(l.getTime())?"2023":String(l.getFullYear())};Q(async()=>{e.code=d.params.code||"all",e.q=d.query.q||"",e.title=m[e.code]||"知识库专栏",await p(1)}),P(()=>d.params.code,async n=>{e.code=n||"all",e.title=m[e.code]||"知识库专栏",e.page=1,await p(1)}),P(()=>d.query.q,async n=>{e.q=n||"",e.page=1,await p(1)});const p=async n=>{e.page=n,e.loading=!0,e.code==="case"||e.code==="expert"?e.limit=12:e.limit=20;try{const l={column_code:e.code==="all"?"":e.code,q:e.q,page:e.page,limit:e.limit},f=await W.kbItemsApi(l),g=f?.data??f;e.list=g?.items??[],e.total=g?.total??0}catch{e.list=[],e.total=0}finally{e.loading=!1}},C=n=>{i.toPath(`/knowledge/item/${n}`)},I=()=>{i.toPath("/knowledge")},L=n=>{const l=n?.image_urls;return Array.isArray(l)?l.map(f=>String(f)).filter(f=>f.trim()):[]},b=n=>L(n)[0]||"";return(n,l)=>{const f=Kt,g=dt,D=lt,M=ct,T=rt,v=nt,U=it,A=at;return a(),r("div",Lt,[s(e).code==="policy"?(a(),r("div",Tt,[l[15]||(l[15]=t("div",{class:"policy-banner mb20 rad8 flex-col-cc white relative overflow-hidden"},[t("div",{class:"f36 fw z10 text-shadow"},"政策法规"),t("div",{class:"absolute ww100 hh100",style:{background:"linear-gradient(135deg, #66b1ff 0%, #409eff 100%)",opacity:"0.9"}})],-1)),t("div",Ut,[t("div",At,[l[13]||(l[13]=t("div",{class:"flex-sc mb15"},[t("div",{class:"f18 fw"},"政策法规列表")],-1)),t("div",Ft,[(a(!0),r(V,null,B(s(e).list,(o,h)=>(a(),r("div",{key:h,class:"policy-item flex-sc p15 bb-e cursor hover-bg",onClick:F=>C(o.id)},[t("div",Ht,[t("div",Ot,_(u(o.publish_time)),1),t("div",Rt,_(E(o.publish_time)),1)]),t("div",Xt,[t("div",Zt,_(o.title),1),t("div",Jt,[t("span",Qt,_(o.publish_org||"发布单位未知"),1),t("span",null,_(o.doc_no||""),1)])]),t("div",Wt,[b(o)?(a(),r("img",{key:0,src:b(o),class:"ww100 hh100 object-cover"},null,8,te)):(a(),r("img",ee))])],8,Yt))),128)),s(e).list.length===0?(a(),z(f,{key:0,description:"暂无数据"})):S("",!0)]),t("div",se,[c(g,{background:"",layout:"total, prev, pager, next",total:s(e).total,"page-size":s(e).limit,"current-page":s(e).page,onCurrentChange:l[0]||(l[0]=o=>p(o))},null,8,["total","page-size","current-page"])])]),t("div",le,[l[14]||(l[14]=t("div",{class:"f16 fw mb15 pl10 bl-primary"},"热门知识",-1)),t("div",oe,[(a(),r(V,null,B(x,(o,h)=>t("div",{key:h,class:"mb20 cursor hover-text-primary"},[t("div",ae,_(o.title),1),t("div",ie,_(o.desc),1)])),64))])])])])):s(e).code==="case"||s(e).code==="expert"?(a(),r("div",ne,[c(M,{title:s(e).title},{"left-content":y(()=>[t("div",re,[c(D,{modelValue:s(e).q,"onUpdate:modelValue":l[1]||(l[1]=o=>s(e).q=o),placeholder:"检索本专栏",clearable:"",class:"w320",onKeyup:l[2]||(l[2]=j(o=>p(1),["enter"]))},null,8,["modelValue"]),t("div",{class:"rad4 ptb5 w80 flex-cc cursor bgi1 white ml10",onClick:l[3]||(l[3]=k(o=>p(1),["stop"]))},"查询")])]),"right-content":y(()=>[t("div",{class:"rad4 ptb5 plr8 flex-cc cursor bgi1 white ml10",onClick:l[4]||(l[4]=k(o=>I(),["stop"]))},"首页")]),_:1},8,["title"]),t("div",ce,[t("div",de,[(a(!0),r(V,null,B(s(e).list,(o,h)=>(a(),r("div",{key:h,class:"grid-card rad8 overflow-hidden bo-e cursor hover-shadow transition-all",onClick:F=>C(o.id)},[t("div",_e,[b(o)?(a(),r("img",{key:0,src:b(o),class:"absolute top0 left0 ww100 hh100 object-cover"},null,8,fe)):(a(),r("img",{key:1,src:`https://picsum.photos/400/225?random=${h}`,class:"absolute top0 left0 ww100 hh100 object-cover"},null,8,me))]),t("div",ue,[t("div",{class:"f16 fw line1 mb10",title:o.title},_(o.title),9,he),t("div",ge,[t("span",null,_(o.publish_time),1),c(T,{class:"f14"})])])],8,pe))),128))]),s(e).list.length===0?(a(),z(f,{key:0,description:"暂无数据"})):S("",!0),t("div",ve,[c(g,{background:"",layout:"total, prev, pager, next, sizes",total:s(e).total,"page-size":s(e).limit,"current-page":s(e).page,onCurrentChange:l[5]||(l[5]=o=>p(o)),onSizeChange:l[6]||(l[6]=o=>{s(e).limit=o,p(1)})},null,8,["total","page-size","current-page"])])])])):(a(),r("div",ye,[c(M,{title:s(e).title},{"left-content":y(()=>[t("div",we,[c(D,{modelValue:s(e).q,"onUpdate:modelValue":l[7]||(l[7]=o=>s(e).q=o),placeholder:"检索本专栏",clearable:"",class:"w320",onKeyup:l[8]||(l[8]=j(o=>p(1),["enter"]))},null,8,["modelValue"]),t("div",{class:"rad4 ptb5 w80 flex-cc cursor bgi1 white ml10",onClick:l[9]||(l[9]=k(o=>p(1),["stop"]))},"查询")])]),"right-content":y(()=>[t("div",{class:"rad4 ptb5 plr8 flex-cc cursor bgi1 white ml10",onClick:l[10]||(l[10]=k(o=>I(),["stop"]))},"首页")]),_:1},8,["title"]),t("div",be,[tt((a(),z(U,{data:s(e).list,stripe:"",height:"100%"},{default:y(()=>[c(v,{type:"index",width:"60",label:"#"}),c(v,{prop:"title",label:"标题","min-width":"320"},{default:y(({row:o})=>[t("span",{class:"cursor i1",onClick:h=>C(o.id)},_(o.title),9,$e)]),_:1}),c(v,{prop:"publish_org",label:"发布单位",width:"160"}),c(v,{prop:"doc_no",label:"文号/编号",width:"180"}),c(v,{prop:"publish_time",label:"发布时间",width:"140"}),c(v,{prop:"views",label:"浏览",width:"100"})]),_:1},8,["data"])),[[A,s(e).loading]]),t("div",ke,[c(g,{background:"",layout:"total, prev, pager, next, sizes",total:s(e).total,"page-size":s(e).limit,"current-page":s(e).page,onCurrentChange:l[11]||(l[11]=o=>p(o)),onSizeChange:l[12]||(l[12]=o=>{s(e).limit=o,p(1)})},null,8,["total","page-size","current-page"])])])]))])}}}),Ee=ot(xe,[["__scopeId","data-v-4582c4ae"]]);export{Ee as default};
