import{d as Q,b as X,aq as Z,o as d,c as u,f as e,a as s,w as o,m as ee,F as S,p as k,r as le,i as r,z as te,q as ae,t as y,h as se,e as w,x as T,l as oe}from"./index-Bd85TTIS.js";import{E as ne}from"./el-card-Dk1FiGNF.js";import{s as f,_ as re}from"./index-H2s0HkPD.js";import{h as F}from"./index-Da8m4HG1.js";const ie={class:"plan-track-container"},de={class:"page-top"},ce={class:"top-filters"},ue={class:"filter-item"},fe={class:"filter-item"},pe={class:"kpi-bar"},me={class:"kpi-value"},ve={class:"kpi-number"},he={key:0,class:"kpi-unit"},ye={class:"kpi-label"},be={class:"content-grid"},ge={class:"card-header"},_e={class:"card-header-right"},xe={class:"card-header"},Se={class:"card-header-right"},ke={class:"legend-row"},we={class:"legend-text"},Fe={class:"donut-area"},Ce={class:"card-header"},Le={class:"card-header-right"},ze={class:"card-header"},Ae={class:"card-header-right"},Re={class:"legend-row"},Be={class:"legend-text"},We={class:"donut-area"},Ve=Q({__name:"track",setup($e){const b=le({year:2025,region:"山西省"}),O=r([2025,2024,2023,2022,2021]),D=[{value:"133↑",unit:"",label:"计划项目总数"},{value:"621",unit:"万平方米",label:"计划建设总规模"},{value:"249",unit:"亿元",label:"计划投资总金额"},{value:"87.2%",unit:"",label:"投资完成率"}],R=r("type"),N=[{name:"老旧小区改造",color:"#FF8A34"},{name:"完整社区建设",color:"#FF4D4F"},{name:"历史风貌保护",color:"#34C2A1"},{name:"城市功能品质提升",color:"#2F7BFF"},{name:"其他",color:"#9BA4B2"}],U=[{name:"已完成投资金额占比",color:"#2F7BFF"},{name:"待投资金额占比",color:"#34C2A1"}],B=r(null),W=r(null),V=r(null),$=r(null),C=r(null),L=r(null),z=r(null),A=r(null);let p=null,m=null,v=null,h=null;const I=["2015年","2016年","2017年","2018年","2019年","2020年","2021年","2022年","2023年","2024年","2025年","2026年"],q=[18,28,23,31,26,30,49,41,28,34,24,31],H=["晋城市","临汾市","太原市","长治市","大同市","忻州市","运城市","朔州市","吕梁市"],M=[32,40,55,46,38,26,30,25,22],P=[42,60,78,66,58,50,56,48,46],E={backgroundColor:"#fff",borderColor:"#e6eaf2",textStyle:{color:"#303133",fontSize:12},extraCssText:"box-shadow: 0 6px 16px rgba(16,24,40,0.08); border-radius: 6px;"},G=()=>({animation:!1,grid:{left:42,right:20,top:34,bottom:26},tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(47,123,255,0.12)"}},...E,formatter:a=>`投资金额：${a[0]?.data??0}亿`},xAxis:{type:"category",data:I,boundaryGap:!1,axisLine:{lineStyle:{color:"#e6eaf2"}},axisTick:{show:!1},axisLabel:{color:"#606266",fontSize:12}},yAxis:{type:"value",name:"单位：亿元",nameTextStyle:{color:"#909399",fontSize:12,padding:[0,0,0,0]},splitLine:{lineStyle:{color:"rgba(0,0,0,0.05)"}},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#606266",fontSize:12}},series:[{name:"投资金额",type:"line",data:q,symbol:"circle",symbolSize:8,lineStyle:{color:"#2F7BFF",width:2},itemStyle:{color:"#fff",borderColor:"#2F7BFF",borderWidth:2}}]}),Y=()=>({animation:!1,grid:{left:48,right:48,top:40,bottom:28},legend:{left:0,top:6,itemWidth:10,itemHeight:10,textStyle:{color:"#606266",fontSize:12},data:["项目数量","计划投资金额"]},tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(47,123,255,0.12)"}},...E,formatter:a=>{const l=a.find(i=>i.seriesName==="项目数量")?.data??0,n=a.find(i=>i.seriesName==="计划投资金额")?.data??0;return`项目数量：${l}个<br/>计划投资金额：${n}万元`}},xAxis:{type:"category",data:H,axisLine:{lineStyle:{color:"#e6eaf2"}},axisTick:{show:!1},axisLabel:{color:"#606266",fontSize:12}},yAxis:[{type:"value",name:"单位：个",nameTextStyle:{color:"#909399",fontSize:12,padding:[0,0,0,-6]},splitLine:{lineStyle:{color:"rgba(0,0,0,0.05)"}},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#606266",fontSize:12}},{type:"value",name:"单位：万元",nameTextStyle:{color:"#909399",fontSize:12,padding:[0,0,0,6]},splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#606266",fontSize:12}}],series:[{name:"项目数量",type:"bar",yAxisIndex:0,data:M,barWidth:14,itemStyle:{color:"#2F7BFF",borderRadius:[4,4,0,0]}},{name:"计划投资金额",type:"bar",yAxisIndex:1,data:P,barWidth:14,itemStyle:{color:"#FF8A34",borderRadius:[4,4,0,0]}}]}),j=()=>({animation:!1,tooltip:{show:!1},series:[{type:"pie",radius:["58%","78%"],center:["50%","55%"],minAngle:8,label:{show:!0,formatter:a=>`${a.percent}% ${a.name}`,color:a=>a.color,fontSize:12,fontWeight:600},labelLine:{show:!0,length:18,length2:12,smooth:.25},itemStyle:{borderColor:"#fff",borderWidth:2},data:[{name:"老旧小区改造",value:20,itemStyle:{color:"#FF8A34"}},{name:"完整社区建设",value:20,itemStyle:{color:"#FF4D4F"}},{name:"历史风貌保护",value:20,itemStyle:{color:"#34C2A1"}},{name:"城市功能品质提升",value:40,itemStyle:{color:"#2F7BFF"}},{name:"其他",value:10,itemStyle:{color:"#9BA4B2"}}]}]}),J=()=>({animation:!1,tooltip:{show:!1},series:[{type:"pie",radius:["58%","78%"],center:["50%","55%"],minAngle:10,label:{show:!0,formatter:a=>`${a.percent}% ${a.name}
${a.value}亿元`,color:a=>a.color,fontSize:12,fontWeight:600,lineHeight:18},labelLine:{show:!0,length:18,length2:12,smooth:.25},itemStyle:{borderColor:"#fff",borderWidth:2},data:[{name:"已完成投资金额占比",value:20,itemStyle:{color:"#2F7BFF"}},{name:"待投资金额占比",value:30,itemStyle:{color:"#34C2A1"}}]}]}),c=()=>{p?.resize(),m?.resize(),v?.resize(),h?.resize()},g=a=>{if(!f.isEnabled)return;const n={line:B.value,bar:W.value,type:V.value,amount:$.value}[a];n&&(f.toggle(n),c())},K=()=>{C.value&&(p=F(C.value),p.setOption(G(),!0)),L.value&&(m=F(L.value),m.setOption(Y(),!0)),z.value&&(v=F(z.value),v.setOption(j(),!0)),A.value&&(h=F(A.value),h.setOption(J(),!0)),c()};return X(()=>{K(),window.addEventListener("resize",c),f.isEnabled&&f.on("change",c)}),Z(()=>{window.removeEventListener("resize",c),f.isEnabled&&f.off("change",c),p?.dispose(),m?.dispose(),v?.dispose(),h?.dispose(),p=null,m=null,v=null,h=null}),(a,l)=>{const n=ae,i=ee,_=re,x=ne;return d(),u("div",ie,[e("div",de,[l[9]||(l[9]=e("div",{class:"breadcrumb"},[e("span",{class:"crumb"},"首页"),e("span",{class:"sep"},">"),e("span",{class:"crumb current"},"年度计划跟踪")],-1)),e("div",ce,[e("div",ue,[l[7]||(l[7]=e("span",{class:"filter-label"},"年度",-1)),s(i,{modelValue:b.year,"onUpdate:modelValue":l[0]||(l[0]=t=>b.year=t),class:"pill-select"},{default:o(()=>[(d(!0),u(S,null,k(O.value,t=>(d(),te(n,{key:t,label:`${t}年`,value:t},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",fe,[l[8]||(l[8]=e("span",{class:"filter-label"},"行政区",-1)),s(i,{modelValue:b.region,"onUpdate:modelValue":l[1]||(l[1]=t=>b.region=t),class:"pill-select"},{default:o(()=>[s(n,{label:"山西省",value:"山西省"}),s(n,{label:"太原市",value:"太原市"}),s(n,{label:"大同市",value:"大同市"})]),_:1},8,["modelValue"])])])]),e("div",pe,[(d(),u(S,null,k(D,t=>e("div",{key:t.label,class:"kpi-item"},[e("div",me,[e("span",ve,y(t.value),1),t.unit?(d(),u("span",he,y(t.unit),1)):se("",!0)]),e("div",ye,y(t.label),1)])),64))]),e("div",be,[e("div",{ref_key:"lineWrapRef",ref:B,class:"card-wrap"},[s(x,{class:"dash-card",shadow:"never"},{header:o(()=>[e("div",ge,[l[11]||(l[11]=e("div",{class:"card-header-left"},[e("span",{class:"title-dot"}),e("span",{class:"card-title"},"年度投资金额趋势图")],-1)),e("div",_e,[e("div",{class:"fullscreen-btn",onClick:l[2]||(l[2]=w(t=>g("line"),["stop"]))},[s(_,{class:"fullscreen-ico"}),l[10]||(l[10]=e("span",null,"全屏",-1))])])])]),default:o(()=>[e("div",{ref_key:"lineChartRef",ref:C,class:"chart chart-large"},null,512)]),_:1})],512),e("div",{ref_key:"typeWrapRef",ref:V,class:"card-wrap"},[s(x,{class:"dash-card",shadow:"never"},{header:o(()=>[e("div",xe,[l[13]||(l[13]=e("div",{class:"card-header-left"},[e("span",{class:"title-dot"}),e("span",{class:"card-title"},"项目类型饼图")],-1)),e("div",Se,[s(i,{modelValue:R.value,"onUpdate:modelValue":l[3]||(l[3]=t=>R.value=t),class:"header-pill"},{default:o(()=>[s(n,{label:"项目类型",value:"type"})]),_:1},8,["modelValue"]),e("div",{class:"fullscreen-btn",onClick:l[4]||(l[4]=w(t=>g("type"),["stop"]))},[s(_,{class:"fullscreen-ico"}),l[12]||(l[12]=e("span",null,"全屏",-1))])])])]),default:o(()=>[e("div",ke,[(d(),u(S,null,k(N,t=>e("div",{key:t.name,class:"legend-item"},[e("span",{class:"legend-dot",style:T({backgroundColor:t.color})},null,4),e("span",we,y(t.name),1)])),64))]),e("div",Fe,[e("div",{ref_key:"typeChartRef",ref:z,class:"chart chart-donut"},null,512),l[14]||(l[14]=e("div",{class:"center-icon"},null,-1))])]),_:1})],512),e("div",{ref_key:"barWrapRef",ref:W,class:"card-wrap"},[s(x,{class:"dash-card",shadow:"never"},{header:o(()=>[e("div",Ce,[l[16]||(l[16]=e("div",{class:"card-header-left"},[e("span",{class:"title-dot"}),e("span",{class:"card-title"},"年度计划交叉分析图")],-1)),e("div",Le,[e("div",{class:"fullscreen-btn",onClick:l[5]||(l[5]=w(t=>g("bar"),["stop"]))},[s(_,{class:"fullscreen-ico"}),l[15]||(l[15]=e("span",null,"全屏",-1))])])])]),default:o(()=>[e("div",{ref_key:"barChartRef",ref:L,class:"chart chart-large"},null,512)]),_:1})],512),e("div",{ref_key:"amountWrapRef",ref:$,class:"card-wrap"},[s(x,{class:"dash-card",shadow:"never"},{header:o(()=>[e("div",ze,[l[18]||(l[18]=e("div",{class:"card-header-left"},[e("span",{class:"title-dot"}),e("span",{class:"card-title"},"项目金额饼图")],-1)),e("div",Ae,[e("div",{class:"fullscreen-btn",onClick:l[6]||(l[6]=w(t=>g("amount"),["stop"]))},[s(_,{class:"fullscreen-ico"}),l[17]||(l[17]=e("span",null,"全屏",-1))])])])]),default:o(()=>[e("div",Re,[(d(),u(S,null,k(U,t=>e("div",{key:t.name,class:"legend-item"},[e("span",{class:"legend-dot",style:T({backgroundColor:t.color})},null,4),e("span",Be,y(t.name),1)])),64))]),e("div",We,[e("div",{ref_key:"amountChartRef",ref:A,class:"chart chart-donut"},null,512),l[19]||(l[19]=e("div",{class:"center-icon"},null,-1))])]),_:1})],512)])])}}}),Ne=oe(Ve,[["__scopeId","data-v-e3027afb"]]);export{Ne as default};
