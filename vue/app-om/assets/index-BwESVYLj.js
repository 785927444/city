import{d as ue,W as st,cX as be,b as we,b6 as Ee,cY as at,bS as ot,aK as Re,aF as Oe,ad as qe,C as Me,j as de,o as d,c as b,ac as re,a as o,u as s,y as A,g as Ve,ar as nt,aA as rt,R as it,aq as dt,h as Y,f as a,x as Ae,z as C,w as r,ah as ut,av as ye,aY as pt,aZ as ct,t as h,a1 as w,i as ie,K as L,X as ft,aT as mt,r as _t,n as De,cZ as H,F as N,p as I,e as E,k as te,v as le,a2 as vt,a6 as bt,a8 as yt,m as gt,q as wt,E as Vt,c_ as Pe,Z as xt,$ as St,cb as kt,ca as jt,a0 as ht,a4 as W,a9 as Te,cV as Ye,a3 as Ct,aa as $t,l as Ut}from"./index-CymMRwSV.js";import{E as Nt,a as It}from"./el-col-BJCdE5xK.js";import{_ as Et}from"./Pagination.vue_vue_type_style_index_0_lang-CjUCoIAl.js";import{_ as At}from"./check-DGZEnJUC.js";import{_ as Dt}from"./AaTitle.vue_vue_type_script_setup_true_lang-BA3Fb0N5.js";import{_ as Pt}from"./filter-C7spfmFB.js";import{h as Tt}from"./index-Da8m4HG1.js";import{_ as ge}from"./UploadText-Dmmewb7V.js";import{e as Yt}from"./excelTools-8ISjbDUR.js";import"./el-pagination-Dn7oVmkx.js";import"./el-progress-BEBGOLgq.js";import"./el-message-BtiibD_d.js";import"./xlsx-CaORBL06.js";const Rt=(U,k,p)=>at(U.subTree).filter(V=>{var y;return ot(V)&&((y=V.type)==null?void 0:y.name)===k&&!!V.component}).map(V=>V.component.uid).map(V=>p[V]).filter(V=>!!V),Ot=(U,k)=>{const p=Ee({}),_=Ee([]),D=new WeakMap,V=S=>{p.value[S.uid]=S,be(p),we(()=>{const O=S.getVnode().el,T=O.parentNode;if(!D.has(T)){D.set(T,[]);const q=T.insertBefore.bind(T);T.insertBefore=($,F)=>(D.get(T).some(M=>$===M||F===M)&&be(p),q($,F))}D.get(T).push(O)})},y=S=>{delete p.value[S.uid],be(p);const O=S.getVnode().el,T=O.parentNode,q=D.get(T),$=q.indexOf(O);q.splice($,1)},P=()=>{_.value=Rt(U,k,p.value)},t=S=>S.render(),R=ue({setup(S,{slots:O}){return()=>(P(),O.default?st(t,{render:O.default}):null)}});return{children:_,addChild:V,removeChild:y,ChildrenSorter:R}},qt=qe({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),Mt={[Re]:(U,k)=>[U,k].every(Oe)},Be="ElSteps";var Bt=ue({name:"ElSteps",__name:"steps",props:qt,emits:Mt,setup(U,{emit:k}){const p=U,_=k,D=Me("steps"),{children:V,addChild:y,removeChild:P,ChildrenSorter:t}=Ot(Ve(),"ElStep");return de(V,()=>{V.value.forEach((R,S)=>{R.setIndex(S)})}),nt(Be,{props:p,steps:V,addStep:y,removeStep:P}),de(()=>p.active,(R,S)=>{_(Re,R,S)}),(R,S)=>(d(),b("div",{class:A([s(D).b(),s(D).m(U.simple?"simple":U.direction)])},[re(R.$slots,"default"),o(s(t))],2))}});const Lt=qe({title:{type:String,default:""},icon:{type:rt},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}});var Le=ue({name:"ElStep",__name:"item",props:Lt,setup(U){const k=U,p=Me("step"),_=ie(-1),D=ie({}),V=ie(""),y=it(Be),P=Ve();let t=0,R=0;we(()=>{de([()=>y.props.active,()=>y.props.processStatus,()=>y.props.finishStatus],([g],[z])=>{R=z||0,t=g-R,me(g)},{immediate:!0})});const S=L(()=>k.status||V.value),O=L(()=>{const g=y.steps.value[_.value-1];return g?g.internalStatus.value:"wait"}),T=L(()=>y.props.alignCenter),q=L(()=>y.props.direction==="vertical"),$=L(()=>y.props.simple),F=L(()=>y.steps.value.length),K=L(()=>{var g;return((g=y.steps.value[F.value-1])==null?void 0:g.uid)===P.uid}),M=L(()=>$.value?"":y.props.space),pe=L(()=>[p.b(),p.is($.value?"simple":y.props.direction),p.is("flex",K.value&&!M.value&&!T.value),p.is("center",T.value&&!q.value&&!$.value)]),ce=L(()=>{const g={flexBasis:Oe(M.value)?`${M.value}px`:M.value?M.value:`${100/(F.value-(T.value?0:1))}%`};return q.value||K.value&&(g.maxWidth=`${100/F.value}%`),g}),se=g=>{_.value=g},fe=g=>{const z=g==="wait",Q={transitionDelay:`${Math.abs(t)===1?0:t>0?(_.value+1-R)*150:-(_.value+1-y.props.active)*150}ms`},ae=g===y.props.processStatus||z?0:100;Q.borderWidth=ae&&!$.value?"1px":0,Q[y.props.direction==="vertical"?"height":"width"]=`${ae}%`,D.value=Q},me=g=>{g>_.value?V.value=y.props.finishStatus:g===_.value&&O.value!=="error"?V.value=y.props.processStatus:V.value="wait";const z=y.steps.value[_.value-1];z&&z.calcProgress(V.value)},X={uid:P.uid,getVnode:()=>P.vnode,currentStatus:S,internalStatus:V,setIndex:se,calcProgress:fe};return y.addStep(X),dt(()=>{y.removeStep(X)}),(g,z)=>(d(),b("div",{style:Ae(ce.value),class:A(pe.value)},[Y(" icon & line "),a("div",{class:A([s(p).e("head"),s(p).is(S.value)])},[$.value?Y("v-if",!0):(d(),b("div",{key:0,class:A(s(p).e("line"))},[a("i",{class:A(s(p).e("line-inner")),style:Ae(D.value)},null,6)],2)),a("div",{class:A([s(p).e("icon"),s(p).is(U.icon||g.$slots.icon?"icon":"text")])},[re(g.$slots,"icon",{},()=>[U.icon?(d(),C(s(ye),{key:0,class:A(s(p).e("icon-inner"))},{default:r(()=>[(d(),C(ut(U.icon)))]),_:1},8,["class"])):S.value==="success"?(d(),C(s(ye),{key:1,class:A([s(p).e("icon-inner"),s(p).is("status")])},{default:r(()=>[o(s(pt))]),_:1},8,["class"])):S.value==="error"?(d(),C(s(ye),{key:2,class:A([s(p).e("icon-inner"),s(p).is("status")])},{default:r(()=>[o(s(ct))]),_:1},8,["class"])):$.value?Y("v-if",!0):(d(),b("div",{key:3,class:A(s(p).e("icon-inner"))},h(_.value+1),3))])],2)],2),Y(" title & description "),a("div",{class:A(s(p).e("main"))},[a("div",{class:A([s(p).e("title"),s(p).is(S.value)])},[re(g.$slots,"title",{},()=>[w(h(U.title),1)])],2),$.value?(d(),b("div",{key:0,class:A(s(p).e("arrow"))},null,2)):(d(),b("div",{key:1,class:A([s(p).e("description"),s(p).is(S.value)])},[re(g.$slots,"description",{},()=>[w(h(U.description),1)])],2))],2)],6))}});const zt=ft(Bt,{Step:Le}),Ft=mt(Le),Wt={class:"layout-col"},Kt={class:"flex-sc mr30"},Jt={class:"w50x4"},Gt={class:"flex-sc mr30"},Zt={class:"w50x3"},Ht={class:"flex-sc mr30"},Xt={class:"w50x3"},Qt={class:"flex-sc mr30"},el={class:"w50x3"},tl={class:"flex-sc mr30"},ll={class:"w50x3"},sl={class:"flex-sc mr30"},al={class:"w50x3"},ol={class:"flex-sc mr15"},nl={class:"w50x3"},rl={class:"f14"},il={class:"layout-row"},dl={class:"layout-col flex1 bg-white rad8 p8"},ul={class:"ww100 flex-sc p8"},pl={class:"flex-sc fw f16 tc"},cl=["onClick"],fl={class:"mb5"},ml={class:"flex-ec flex1"},_l={class:"table flex-sc warp"},vl=["onClick"],bl={class:"ww100 flex-sc p12 bob-ce-1"},yl={class:"f15 line1"},gl={class:"flex1 flex-ec"},wl={class:"ww100 flex-col p12 c6"},Vl={class:"ww100 flex-sc"},xl={class:"flex1 line1"},Sl={class:"ww100 flex-sc mt10"},kl={class:"flex1 line1"},jl={class:"ww100 flex-sc mt10"},hl={class:"flex1 line1"},Cl={class:"ww100 flex-sc mt10"},$l={class:"flex1 line1"},Ul={class:"ww100 flex-sc mt10"},Nl={class:"flex-sc flex1"},Il={class:"flex1 line1"},El=["onClick"],Al={class:"w360 ml15"},Dl={class:"bg-white rad8 p15 mb15"},Pl={class:"flex-bc mt10"},Tl={class:"flex1"},Yl={class:"f28 fw"},Rl={class:"flex1"},Ol={class:"f28 fw"},ql={class:"bg-white rad8 p15"},Ml={class:"flex-bc"},Bl={class:"layout-col drawer-shell"},Ll={class:"drawer-content"},zl={class:"ww100 flex-bc mt15"},Fl={class:"mt10"},Wl={class:"flex-sc ww100"},Kl={class:"flex-sc ww100"},Jl={class:"flex-sc ww100"},Gl={class:"rad4 bo-cc-1 p12"},Zl={class:"flex1 mr10"},Hl={class:"flex1 mr10"},Xl={class:"ww100"},Ql={class:"flex-sc mb10"},es={class:"ml10 upload-btn"},ts={class:"ww100 mt10 rad4 bo-cc-1 relative",style:{height:"360px",overflow:"hidden"}},ls={class:"absolute",style:{right:"15px",bottom:"15px"}},ss={class:"rad4 bo-cc-1 p12"},as={class:"flex-bc"},os={class:"mt10 c6"},ns={class:"flex-sc"},rs={class:"flex1"},is={class:"flex-sc mt6"},ds={class:"flex1"},us={class:"flex-sc mt6"},ps={class:"flex1"},cs={class:"flex-ec mt10"},fs={class:"rad4 bo-cc-1 p12"},ms={class:"flex-bc"},_s={class:"mt10 c6"},vs={class:"flex-sc"},bs={class:"flex1"},ys={class:"flex-sc mt6"},gs={class:"flex1"},ws={class:"flex-sc mt6"},Vs={class:"flex1"},xs={class:"flex-ec mt10"},Ss={class:"mt10"},ks={class:"flex-ec mt10 pb15"},js=ue({__name:"index",setup(U){const{proxy:k}=Ve(),p=k.publicStore(),_=k.configStore(),D=k.dictStore(),V=bt(),y=ie();let P=null;const t=_t({...p.$state,tab:"enterprise",tabs:[{value:"enterprise",name:"企业上报"},{value:"department",name:"部门上报"}],schemePlans:[],schemeAreas:[],projectCategoryLevel1Options:[],projectCategoryLevel2Options:[],otherInfoLeft:[{key:"apply_special_bond",label:"是否申请特别国债"},{key:"need_land_support",label:"是否需加强用地保障的国家重大项目"},{key:"is_medium_long_term_loan",label:"是否中长期贷款项目"},{key:"is_key_private_invest",label:"是否申列入全国重点民间投资项目"},{key:"apply_major_project",label:"是否申请重大项目"},{key:"apply_14th_102_project",label:"是否申报十四五102项重大工程项目"},{key:"apply_tech_financing",label:"是否申请科技型企业和项目融资"},{key:"has_private_invest",label:"是否有民间投资参与"}],otherInfoRight:[{key:"apply_central_budget_fund",label:"是否申请中央预算内资金"},{key:"apply_policy_fin_tool",label:"是否申请政策性开发性金融工具（基金）"},{key:"is_2023_bond_invest",label:"是否2023年增发国债投资项目"},{key:"apply_upgrade_argument",label:"是否申请提级论证项目"},{key:"is_local_special_debt",label:"是否地方政府专项债券项目"},{key:"apply_14th_energy_plan",label:"是否申报十四五能源规划项目"},{key:"is_ultra_long_special_bond",label:"是否超长期特别国债项目"}],expand:!1,page:1,limit:20,total:0,provinces:[],citys:[],investLevels:[{value:"0-5000",name:"5000万以下"},{value:"5000-10000",name:"5000万-1亿"},{value:"10000-50000",name:"1亿-5亿"},{value:"50000+",name:"5亿以上"}],projectTypes:[],filters:{construct_datetime:[],province:"",city:"",project_stage:"",invest_level:"",project_type:"",keyword:""},list:[],selectedAllPages:!1,selectedIds:new Set,deselectedIds:new Set,stats:{monthCount:0,totalCount:0,districtStats:[]},drawerVisible:!1,drawerStep:0,draft:{project_code:"",project_name:"",scheme_plan_id:"",build_unit:"",build_stage:"",total_invest:"",cumulative_invest_issued:"",planned_start_date:"",project_stage:"",project_type:"",build_content:"",remark:"",unified_project_code:"",region_level1:"",region_level2:"",scheme_area:"",supervisor_unit:"",project_category_level1:"",project_category_level2:"",plan_year:"2026",plan_year_amount:"",cumulative_completed_invest:"",expected_finish_date:"",project_benefit:"",danger_house_renovation:"",funds:{central_budget:"",ultra_long_bond:"",special_debt:"",fiscal:"",other_channel:"",credit_financing:"",securitization_financing:"",enterprise_financing:"",resident_contribution:"",tbd:""},contacts:{project_owner:"",project_owner_phone:"",industry_policy:"",target_2030:"",project_contact:"",major_strategy:"",government_invest_direction:""},other_info:{apply_special_bond:!0,need_land_support:!0,is_medium_long_term_loan:!0,is_key_private_invest:!0,apply_major_project:!0,apply_14th_102_project:!0,apply_tech_financing:!0,has_private_invest:!0,apply_central_budget_fund:!0,apply_policy_fin_tool:!0,is_2023_bond_invest:!0,apply_upgrade_argument:!0,is_local_special_debt:!0,apply_14th_energy_plan:!0,is_ultra_long_special_bond:!0},project_range:"",invalid_file:null,files:{update_potential:null,function_format:null}}});we(async()=>{S(),await T(),await $(),await De(),Ue()}),de(()=>[t.filters,t.tab,t.page,t.limit],()=>{O()},{deep:!0});const R=()=>{t.expand=!t.expand},S=()=>{const n=V.query||{};t.tab=n.tab?String(n.tab):t.tab,t.page=n.page?Number(n.page):t.page,t.limit=n.limit?Number(n.limit):t.limit,t.filters.province=n.province?String(n.province):"",t.filters.city=n.city?String(n.city):"",t.filters.project_stage=n.project_stage?String(n.project_stage):"",t.filters.invest_level=n.invest_level?String(n.invest_level):"",t.filters.project_type=n.project_type?String(n.project_type):"",t.filters.keyword=n.keyword?String(n.keyword):"",n.start&&n.end&&(t.filters.construct_datetime=[String(n.start),String(n.end)])},O=()=>{const n={};n.tab=t.tab,n.page=String(t.page),n.limit=String(t.limit),t.filters.province&&(n.province=t.filters.province),t.filters.city&&(n.city=t.filters.city),t.filters.project_stage&&(n.project_stage=t.filters.project_stage),t.filters.invest_level&&(n.invest_level=t.filters.invest_level),t.filters.project_type&&(n.project_type=t.filters.project_type),t.filters.keyword&&(n.keyword=t.filters.keyword),t.filters.construct_datetime&&t.filters.construct_datetime.length===2&&(n.start=t.filters.construct_datetime[0],n.end=t.filters.construct_datetime[1]),$t.replace({path:V.path,query:n})},T=async()=>{const n=_.user;if(n&&n.province&&n.province_name&&(t.provinces=[{name:n.province_name,value:n.province}]),n&&n.parent_id&&n.station_num){const u=n.parent_id=="0"?{model:"t_station",args:`parent_id='${n.station_num}'`}:{model:"t_station",args:`id='${n.station_num}'`},f=await p.http({Api:u}),i=k.isNull(f)?[]:f.sort((x,j)=>x.order-j.order);t.citys=i.map(x=>({name:x.station_name,value:x.city}))}const e=await p.http({Api:{model:"t_task_type"}});t.projectTypes=(k.isNull(e)?[]:e).sort((u,f)=>(u.orderd??0)-(f.orderd??0)).map(u=>({name:u.name||u.type||u.id,value:u.id||u.type||u.name}));const m=await p.http({Api:{model:"t_scheme_plan",field:"id,name",args:"release_status='1'"}});t.schemePlans=k.isNull(m)?[]:m,t.schemeAreas=[{value:"1",name:"龙城片区"}],t.projectCategoryLevel1Options=[{name:"市政工程",value:"1"},{name:"交通设施",value:"2"},{name:"公共服务",value:"3"}],t.projectCategoryLevel2Options=[{name:"道路更新",value:"1-1"},{name:"管网改造",value:"1-2"},{name:"绿化提升",value:"1-3"}]},q=()=>{let n="1=1";if(t.filters.province&&(n+=` and province='${t.filters.province}'`),t.filters.city&&(n+=` and city='${t.filters.city}'`),t.filters.construct_datetime&&t.filters.construct_datetime.length===2){const[e,m]=t.filters.construct_datetime;n+=` and construct_datetime_start>='${e}' and construct_datetime_end<='${m}'`}if(t.filters.project_stage&&(n+=` and completion_status='${t.filters.project_stage}'`),t.filters.keyword&&(n+=` and name LIKE '%${t.filters.keyword}%'`),t.filters.invest_level){const e=String(t.filters.invest_level);if(e.endsWith("+")){const m=Number(e.replace("+",""));Number.isNaN(m)||(n+=` and construct_price >= ${m}`)}else if(e.includes("-")){const[m,u]=e.split("-").map(f=>Number(f));Number.isNaN(m)||(n+=` and construct_price >= ${m}`),Number.isNaN(u)||(n+=` and construct_price < ${u}`)}}return t.filters.project_type&&(n+=` and task_type='${t.filters.project_type}'`),n},$=async()=>{const e={model:"t_scheme_project",args:q(),order:"rate_time DESC"},m=Object.assign({},e,{limit:t.limit,page:t.page}),u=Object.assign({},e,{field:"COUNT(*)"}),f=await p.http({Api1:m,Api2:u}),i=k.isNull(f.Api1)?[]:f.Api1;i.forEach(x=>{x.area=(x.province_name||"")+(x.city_name?`-${x.city_name}`:"")+(x.district_name?`-${x.district_name}`:""),x.__selected=K(x.id)}),t.list=i,t.total=k.isNull(f.Api2)?0:Number(f.Api2[0]["COUNT(*)"]||0),await F(),await De(),Ue()},F=async()=>{t.stats.totalCount=t.total;const n=new Date,e=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`,m=t.list.filter(x=>String(H(x.rate_time)||"").startsWith(e)).length;t.stats.monthCount=m;const f={model:"t_scheme_project",args:q(),field:"district_name, COUNT(*) AS cnt",group:"district_name"},i=await p.http({Api:f});t.stats.districtStats=k.isNull(i)?[]:i},K=n=>{const e=String(n||"");return e?t.selectedAllPages?!t.deselectedIds.has(e):t.selectedIds.has(e):!1},M=n=>{const e=String(n.id||"");e&&(t.selectedAllPages?t.deselectedIds.has(e)?t.deselectedIds.delete(e):t.deselectedIds.add(e):t.selectedIds.has(e)?t.selectedIds.delete(e):t.selectedIds.add(e),n.__selected=K(e))},pe=()=>{t.selectedAllPages=!t.selectedAllPages,t.selectedIds=new Set,t.deselectedIds=new Set,t.list.forEach(n=>n.__selected=K(n.id))},ce=()=>{t.filters.construct_datetime=[],t.filters.province="",t.filters.city="",t.filters.project_stage="",t.filters.invest_level="",t.filters.project_type="",t.filters.keyword="",t.page=1,se()},se=async()=>{t.page=1,await $()},fe=async n=>{t.tab=n,t.page=1,t.selectedAllPages=!1,t.selectedIds=new Set,t.deselectedIds=new Set,await $()},me=n=>{const e=Number(n);return Number.isNaN(e)?n:e.toFixed(2)},X=()=>t.selectedAllPages?t.total-t.deselectedIds.size:t.selectedIds.size,g=async()=>{if(t.selectedAllPages)return z(1e4);const n=Array.from(t.selectedIds);if(n.length===0)return[];const e=[];for(let u=0;u<n.length;u+=300)e.push(n.slice(u,u+300));const m=[];for(const u of e){const f=`id IN (${u.map(x=>`'${x}'`).join(",")})`,i=await p.http({Api:{model:"t_scheme_project",args:f}});k.isNull(i)||m.push(...i)}return m},z=async n=>{const e=t.total,m=Math.min(e,n),u=1e3,f=Math.ceil(m/u),i=[];for(let x=1;x<=f;x++){const ve={model:"t_scheme_project",args:q(),order:"rate_time DESC",page:x,limit:u},oe=await p.http({Api:ve});if(k.isNull(oe)||(i.push(...oe),i.length>=m))break}return i.slice(0,m)},xe=async()=>{if(X()<=0)return W({title:"提示",message:"请先选择至少一条",type:"error"});const e=await g(),u=`基础项目总览_${H(new Date).replaceAll(":","-").replaceAll(" ","_")}`,f=["项目名称","所属地区","项目周期","项目规模","投资估算(万元)","项目性质","更新进度时间"],i=["name","area","construct_datetime","construct_scale","construct_price","construct_nature","rate_time"],x=e.map(j=>({...j,area:(j.province_name||"")+(j.city_name?`-${j.city_name}`:"")+(j.district_name?`-${j.district_name}`:""),construct_datetime:j.construct_datetime_start&&j.construct_datetime_end?`${j.construct_datetime_start}-${j.construct_datetime_end}`:"",construct_price:j.construct_price!=null&&j.construct_price!==""?Number(j.construct_price).toFixed(2):"",construct_nature:j.construct_nature?Pe(j.construct_nature):"",rate_time:j.rate_time?H(j.rate_time):""}));await Yt({tHeader:f,filterVal:i,fileName:u},x)},Q=async()=>{if(X()<=0)return W({title:"提示",message:"请先选择至少一条",type:"error"});Te.confirm("是否确定发送提醒?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"关闭",type:"warn"}).then(async()=>{const e=await g();W({title:"提示",message:`提醒成功：${e.length}，失败：0`,type:"success"})})},ae=n=>{Te.confirm("是否将该项目开始储备?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"关闭",type:"warn"}).then(()=>{Ye("/actionApply",{id:n.id})})},ze=()=>{t.drawerVisible=!0,t.drawerStep=0,Ge()},Fe=()=>{Ye("/actionRelease")},We=()=>{J(),t.drawerVisible=!1},Ke=()=>{J()},Je=()=>{J()},Se=n=>n?n.status==="success"?"上传成功":n.status?"上传失败":"待上传":"待上传",ke=n=>n&&n.type?String(n.type):"文本文件",je=n=>!n||!n.time?"/":H(n.time)||String(n.time),he=n=>{if(!n||!n.data)return;const e=`/api/v1/terminal/download/${encodeURIComponent(String(n.data))}`;window.open(e,"_self")},Ce=n=>{t.draft.files||(t.draft.files={}),t.draft.files[n]=null,J()},_e=()=>`basicProjectOverview:draft:${_.user&&_.user.id?String(_.user.id):"anonymous"}`,J=()=>{const n=_e(),e=JSON.stringify(t.draft||{});localStorage.setItem(n,e)},Ge=()=>{const n=_e(),e=localStorage.getItem(n);if(e)try{const m=JSON.parse(e);t.draft=Object.assign(t.draft,m)}catch{}},$e=()=>{if(t.drawerStep===0||t.drawerStep===1){if(!t.draft.project_code)return"请输入项目编码";if(!t.draft.project_name)return"请输入项目名称";if(!t.draft.build_unit)return"请输入建设单位";if(t.draft.total_invest==null||String(t.draft.total_invest).trim()==="")return"请输入总投资";if(!t.draft.build_content)return"请输入建设内容";if(!t.draft.supervisor_unit)return"请输入主管单位";if(!t.draft.region_level1||!t.draft.region_level2)return"请选择所属区域";if(!t.draft.project_category_level1||!t.draft.project_category_level2)return"请选择项目类别";if(!t.draft.contacts?.project_owner)return"请输入项目责任人";if(!t.draft.contacts?.project_owner_phone)return"请输入项目联系方式";if(!t.draft.contacts?.project_contact)return"请输入项目联系人"}return""},Ze=()=>{const n=$e();if(n)return W({title:"提示",message:n,type:"error"});J(),t.drawerStep=1},He=()=>{J(),t.drawerStep=0},Xe=async()=>{const n=$e();if(n)return W({title:"提示",message:n,type:"error"});J();const e=t.draft.planned_start_date||"",m=t.draft.expected_finish_date||"",u=Number(t.draft.total_invest),f={id:"",type:"plan",num:t.draft.project_code||"",code:t.draft.unified_project_code||"",name:t.draft.project_name||"",scheme_id:t.draft.scheme_plan_id||"",scheme_name:"",aera:`${_.user?.province_name||""}${_.user?.city_name?`-${_.user?.city_name}`:""}${_.user?.district_name?`-${_.user?.district_name}`:""}`,construct_scale:t.draft.build_stage||"",construct_datetime_start:e,construct_datetime_end:m,construct_datetime:e&&m?`${e}-${m}`:"",construct_price:Number.isNaN(u)?String(t.draft.total_invest||""):String(u),completion_status:t.draft.project_stage||"",task_type:t.draft.project_type||"",apply_status:"0",rate:"0",apply_time:"",apply_respose_time:"",completion_time_1:"",completion_time_2:"",completion_time_3:"",user_id:_.user?.id||"",user_name:_.user?.name?k.encrypt(_.user.name):"",province:_.user?.province||"",city:_.user?.city||"",district:_.user?.district||"",province_name:_.user?.province_name||"",city_name:_.user?.city_name||"",district_name:_.user?.district_name||"",rate_time:new Date().getTime()+""};try{const i=await Ct.addApi({model:"t_scheme_project",list:[f]});i&&(i.code===200||i.code==="200")?(localStorage.removeItem(_e()),t.drawerVisible=!1,W({title:"提示",message:"新建成功",type:"success"}),await $()):W({title:"提示",message:i?.msg||"新建失败",type:"error"})}catch{W({title:"提示",message:"新建失败",type:"error"})}},Ue=()=>{const n=y.value;if(!n)return;P&&(P.dispose(),P=null),P=Tt(n);const e=t.stats.districtStats||[],m=e.map(i=>i.district_name||"未知"),u=e.map(i=>Number(i.cnt||0)),f={grid:{left:60,right:20,top:20,bottom:20,containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:m},series:[{type:"bar",data:u,barWidth:12,itemStyle:{color:"#266fff"}}],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}}};P.setOption(f)},Qe=()=>{if(!P)return;const n=P.getDataURL({type:"png",pixelRatio:2,backgroundColor:"#ffffff"}),e=document.createElement("a");e.href=n;const m=H(new Date).replaceAll(":","-").replaceAll(" ","_");e.download=`项目分布_${m}.png`,e.click()};return(n,e)=>{const m=yt,u=wt,f=gt,i=Vt,x=Pt,j=Dt,ve=At,oe=Et,Ne=Ft,et=zt,c=St,B=It,ee=Nt,ne=jt,Ie=kt,G=ht,tt=xt,lt=vt;return d(),b("div",Wt,[o(j,{title:""},{"left-content":r(()=>[a("div",Kt,[e[75]||(e[75]=a("span",{class:"mr10"},"项目周期",-1)),a("span",Jt,[o(m,{modelValue:s(t).filters.construct_datetime,"onUpdate:modelValue":e[0]||(e[0]=l=>s(t).filters.construct_datetime=l),style:{width:"100%"},"start-placeholder":"开始周期","end-placeholder":"结束周期",type:"yearrange","value-format":"YYYY",format:"YYYY"},null,8,["modelValue"])])]),a("div",Gt,[e[76]||(e[76]=a("span",{class:"mr10"},"所属地区",-1)),a("span",Zt,[o(f,{modelValue:s(t).filters.province,"onUpdate:modelValue":e[1]||(e[1]=l=>s(t).filters.province=l),placeholder:"请选择",style:{width:"100%"},filterable:"",clearable:""},{default:r(()=>[(d(!0),b(N,null,I(s(t).provinces,(l,v)=>(d(),C(u,{key:v,value:String(l.value),label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])])]),a("div",Ht,[e[77]||(e[77]=a("span",{class:"mr10"},"所属地市",-1)),a("span",Xt,[o(f,{modelValue:s(t).filters.city,"onUpdate:modelValue":e[2]||(e[2]=l=>s(t).filters.city=l),placeholder:"请选择",style:{width:"100%"},filterable:"",clearable:""},{default:r(()=>[(d(!0),b(N,null,I(s(t).citys,(l,v)=>(d(),C(u,{key:v,value:String(l.value),label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])])]),a("div",Qt,[e[78]||(e[78]=a("span",{class:"mr10"},"项目阶段",-1)),a("span",el,[o(f,{modelValue:s(t).filters.project_stage,"onUpdate:modelValue":e[3]||(e[3]=l=>s(t).filters.project_stage=l),placeholder:"请选择",style:{width:"100%"},filterable:"",clearable:""},{default:r(()=>[(d(!0),b(N,null,I(s(D).project_completion_statuss,(l,v)=>(d(),C(u,{key:v,value:String(l.value),label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])])]),te(a("div",tl,[e[79]||(e[79]=a("span",{class:"mr10"},"总投资金额",-1)),a("span",ll,[o(f,{modelValue:s(t).filters.invest_level,"onUpdate:modelValue":e[4]||(e[4]=l=>s(t).filters.invest_level=l),placeholder:"请选择",style:{width:"100%"},filterable:"",clearable:""},{default:r(()=>[(d(!0),b(N,null,I(s(t).investLevels,(l,v)=>(d(),C(u,{key:v,value:String(l.value),label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])])],512),[[le,s(t).expand]]),te(a("div",sl,[e[80]||(e[80]=a("span",{class:"mr10"},"项目类型",-1)),a("span",al,[o(f,{modelValue:s(t).filters.project_type,"onUpdate:modelValue":e[5]||(e[5]=l=>s(t).filters.project_type=l),placeholder:"请选择",style:{width:"100%"},filterable:"",clearable:""},{default:r(()=>[(d(!0),b(N,null,I(s(t).projectTypes,(l,v)=>(d(),C(u,{key:v,value:String(l.value),label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])])],512),[[le,s(t).expand]]),a("div",ol,[e[81]||(e[81]=a("span",{class:"mr10"},"关键词",-1)),a("span",nl,[o(i,{modelValue:s(t).filters.keyword,"onUpdate:modelValue":e[6]||(e[6]=l=>s(t).filters.keyword=l),style:{width:"100%"},placeholder:"请输入",clearable:""},null,8,["modelValue"])])]),a("div",{class:"rad4 ptb6 plr12 flex-cc cursor bg-white c8 bo-cc-1 mr10",onClick:e[7]||(e[7]=E(l=>R(),["stop"]))},[a("span",rl,h(s(t).expand?"收起":"展开"),1)]),a("div",{class:"rad4 ptb6 plr12 flex-cc cursor bg-white c8 bo-cc-1 mr10",onClick:e[8]||(e[8]=E(l=>ce(),["stop"]))},[...e[82]||(e[82]=[a("span",{class:"f14"},"重置",-1)])]),a("div",{class:"rad4 ptb6 plr12 flex-cc cursor bgi1 white",onClick:e[9]||(e[9]=E(l=>se(),["stop"]))},[o(x,{class:"f12 fw"}),e[83]||(e[83]=a("span",{class:"f14 ml5"},"搜索",-1))])]),"right-content":r(()=>[a("div",{class:"plr14 ptb5 rad4 cursor white bgi1 bo-i1-1",onClick:e[10]||(e[10]=E(l=>ze(),["stop"]))},"新建项目")]),_:1}),a("div",il,[a("div",dl,[a("div",ul,[a("div",pl,[(d(!0),b(N,null,I(s(t).tabs,(l,v)=>(d(),b("div",{class:"mr40 cursor flex-col-cc relative",key:v,onClick:E(Z=>fe(l.value),["stop"])},[a("span",fl,h(l.name),1),a("span",{class:A(["ww100 h3 rad10",l.value==s(t).tab?"bgi2":"black-rgba0"])},null,2)],8,cl))),128))]),a("div",ml,[a("div",{class:"rad4 ptb5 plr12 flex-cc cursor bg-white c8 bo-cc-1 ml15",onClick:e[11]||(e[11]=E(l=>pe(),["stop"]))},h(s(t).selectedAllPages?"取消跨页全选":"跨页全选"),1),a("div",{class:"rad4 ptb5 plr12 flex-cc cursor bg-white c8 bo-cc-1 ml15",onClick:e[12]||(e[12]=E(l=>xe(),["stop"]))}," 导出 "),a("div",{class:"rad4 ptb5 plr12 flex-cc cursor bgi1 white bo-i1-1 ml15",onClick:e[13]||(e[13]=E(l=>Q(),["stop"]))}," 提醒 ")])]),a("div",_l,[(d(!0),b(N,null,I(s(t).list,(l,v)=>(d(),b("div",{class:"ww25 cursor p8",key:v},[a("div",{class:"ww100 bs bo-i16-1 relative rad8 project-card",onClick:E(Z=>M(l),["stop"])},[a("div",bl,[a("span",yl,h(l.name),1),a("span",gl,[a("span",{class:A(["w28 h28 tc lh28 rad6 ml10 white f14",l.__selected?"bgi1 bo-i1-1":"bo-cc-1 bg-white c8"])},[l.__selected?(d(),C(ve,{key:0})):Y("",!0)],2)])]),a("div",wl,[a("div",Vl,[e[84]||(e[84]=a("span",{class:"w110"},"所属地区",-1)),a("span",xl,h(l.area||"-"),1)]),a("div",Sl,[e[85]||(e[85]=a("span",{class:"w110"},"项目周期",-1)),a("span",kl,h(l.construct_datetime_start&&l.construct_datetime_end?`${l.construct_datetime_start}-${l.construct_datetime_end}`:"-"),1)]),a("div",jl,[e[86]||(e[86]=a("span",{class:"w110"},"投资估算",-1)),a("span",hl,h(l.construct_price!=null&&l.construct_price!==""?`${me(l.construct_price)} 万元`:"-"),1)]),a("div",Cl,[e[87]||(e[87]=a("span",{class:"w110"},"项目性质",-1)),a("span",$l,h(l.construct_nature?s(Pe)(l.construct_nature):"-"),1)]),a("div",Ul,[a("div",Nl,[e[88]||(e[88]=a("span",{class:"w110"},"更新进度时间",-1)),a("span",Il,h(l.rate_time?s(H)(l.rate_time):"-"),1)]),s(t).tab==="enterprise"?(d(),b("div",{key:0,class:"rad5 ptb5 plr12 cursor bgi1 white",onClick:E(Z=>ae(l),["stop"])},"开始储备",8,El)):Y("",!0)])])],8,vl)]))),128))]),te(o(oe,{style:{"padding-bottom":"0"},total:s(t).total,page:s(t).page,"onUpdate:page":e[14]||(e[14]=l=>s(t).page=l),pageModifiers:{sync:!0},limit:s(t).limit,"onUpdate:limit":e[15]||(e[15]=l=>s(t).limit=l),limitModifiers:{sync:!0},onPagination:$},null,8,["total","page","limit"]),[[le,s(t).total>0]])]),a("div",Al,[a("div",Dl,[e[91]||(e[91]=a("div",{class:"f16 fw mb10"},"项目上报情况",-1)),a("div",Pl,[a("div",Tl,[e[89]||(e[89]=a("div",{class:"c6"},"本月上报项目",-1)),a("div",Yl,h(s(t).stats.monthCount),1)]),a("div",Rl,[e[90]||(e[90]=a("div",{class:"c6"},"上报项目总数",-1)),a("div",Ol,h(s(t).stats.totalCount),1)])])]),a("div",ql,[a("div",Ml,[e[92]||(e[92]=a("div",{class:"f16 fw"},"项目分布情况",-1)),a("div",{class:"rad4 ptb5 plr12 flex-cc cursor bg-white c8 bo-cc-1",onClick:e[16]||(e[16]=E(l=>Qe(),["stop"]))},"下载图片")]),a("div",{ref_key:"barRef",ref:y,class:"ww100",style:{height:"320px"}},null,512)])])]),o(lt,{modelValue:s(t).drawerVisible,"onUpdate:modelValue":e[74]||(e[74]=l=>s(t).drawerVisible=l),title:"新建项目",width:"70%",top:"5vh","append-to-body":"","align-center":"","custom-class":"basic-project-overview-dialog"},{default:r(()=>[a("div",Bl,[o(et,{active:s(t).drawerStep,"finish-status":"success","align-center":""},{default:r(()=>[o(Ne,{title:"基础信息"}),o(Ne,{title:"实施方案"})]),_:1},8,["active"]),a("div",Ll,[a("div",zl,[e[93]||(e[93]=a("div",{class:"fw f16"},"项目信息",-1)),a("div",{class:"w50x3 tc rad3 ptb6 bgi1 white cursor",onClick:e[17]||(e[17]=E(l=>Fe(),["stop"]))},"专项与片区项目库")]),te(a("div",Fl,[o(tt,{model:s(t).draft,"label-width":"120px"},{default:r(()=>[o(ee,{gutter:20},{default:r(()=>[o(B,{span:12},{default:r(()=>[o(c,{label:"项目编码",required:""},{default:r(()=>[o(i,{modelValue:s(t).draft.project_code,"onUpdate:modelValue":e[18]||(e[18]=l=>s(t).draft.project_code=l),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(c,{label:"项目名称",required:""},{default:r(()=>[o(i,{modelValue:s(t).draft.project_name,"onUpdate:modelValue":e[19]||(e[19]=l=>s(t).draft.project_name=l),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(c,{label:"所属专项规划"},{default:r(()=>[o(f,{modelValue:s(t).draft.scheme_plan_id,"onUpdate:modelValue":e[20]||(e[20]=l=>s(t).draft.scheme_plan_id=l),placeholder:"请选择",style:{width:"100%"},filterable:"",clearable:""},{default:r(()=>[(d(!0),b(N,null,I(s(t).schemePlans,(l,v)=>(d(),C(u,{key:v,value:String(l.id||l.value),label:l.name||l.label||l.id},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(c,{label:"建设单位",required:""},{default:r(()=>[o(i,{modelValue:s(t).draft.build_unit,"onUpdate:modelValue":e[21]||(e[21]=l=>s(t).draft.build_unit=l),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(c,{label:"建设阶段"},{default:r(()=>[o(i,{modelValue:s(t).draft.build_stage,"onUpdate:modelValue":e[22]||(e[22]=l=>s(t).draft.build_stage=l),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(c,{label:"总投资",required:""},{default:r(()=>[o(i,{modelValue:s(t).draft.total_invest,"onUpdate:modelValue":e[23]||(e[23]=l=>s(t).draft.total_invest=l),placeholder:"请输入"},{append:r(()=>[...e[94]||(e[94]=[w("万元",-1)])]),_:1},8,["modelValue"])]),_:1}),o(c,{label:"累计下达投资"},{default:r(()=>[o(i,{modelValue:s(t).draft.cumulative_invest_issued,"onUpdate:modelValue":e[24]||(e[24]=l=>s(t).draft.cumulative_invest_issued=l),placeholder:"请输入"},{append:r(()=>[...e[95]||(e[95]=[w("万元",-1)])]),_:1},8,["modelValue"])]),_:1}),o(c,{label:"拟开工时间"},{default:r(()=>[o(m,{modelValue:s(t).draft.planned_start_date,"onUpdate:modelValue":e[25]||(e[25]=l=>s(t).draft.planned_start_date=l),style:{width:"100%"},type:"date","value-format":"YYYY-MM-DD",format:"YYYY-MM-DD",placeholder:"选择日期"},null,8,["modelValue"])]),_:1}),o(c,{label:"项目阶段"},{default:r(()=>[o(f,{modelValue:s(t).draft.project_stage,"onUpdate:modelValue":e[26]||(e[26]=l=>s(t).draft.project_stage=l),placeholder:"请选择",style:{width:"100%"},clearable:""},{default:r(()=>[(d(!0),b(N,null,I(s(D).project_completion_statuss,(l,v)=>(d(),C(u,{key:v,value:String(l.value),label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(c,{label:"项目类型"},{default:r(()=>[o(f,{modelValue:s(t).draft.project_type,"onUpdate:modelValue":e[27]||(e[27]=l=>s(t).draft.project_type=l),placeholder:"请选择",style:{width:"100%"},clearable:""},{default:r(()=>[(d(!0),b(N,null,I(s(t).projectTypes,(l,v)=>(d(),C(u,{key:v,value:String(l.value),label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(B,{span:12},{default:r(()=>[o(c,{label:"统一项目代码"},{default:r(()=>[o(i,{modelValue:s(t).draft.unified_project_code,"onUpdate:modelValue":e[28]||(e[28]=l=>s(t).draft.unified_project_code=l),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(c,{label:"所属区域",required:""},{default:r(()=>[a("div",Wl,[o(f,{modelValue:s(t).draft.region_level1,"onUpdate:modelValue":e[29]||(e[29]=l=>s(t).draft.region_level1=l),placeholder:"请选择",style:{width:"50%"},filterable:"",clearable:""},{default:r(()=>[(d(!0),b(N,null,I(s(t).provinces,(l,v)=>(d(),C(u,{key:v,value:String(l.value),label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),o(f,{modelValue:s(t).draft.region_level2,"onUpdate:modelValue":e[30]||(e[30]=l=>s(t).draft.region_level2=l),class:"ml10",placeholder:"请先选择市",style:{width:"50%"},disabled:!s(t).draft.region_level1,filterable:"",clearable:""},{default:r(()=>[(d(!0),b(N,null,I(s(t).citys,(l,v)=>(d(),C(u,{key:v,value:String(l.value),label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","disabled"])])]),_:1}),o(c,{label:"所属规划片区"},{default:r(()=>[o(f,{modelValue:s(t).draft.scheme_area,"onUpdate:modelValue":e[31]||(e[31]=l=>s(t).draft.scheme_area=l),placeholder:"请选择",style:{width:"100%"},filterable:"",clearable:""},{default:r(()=>[(d(!0),b(N,null,I(s(t).schemeAreas,(l,v)=>(d(),C(u,{key:v,value:String(l.value),label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(c,{label:"主管单位",required:""},{default:r(()=>[o(i,{modelValue:s(t).draft.supervisor_unit,"onUpdate:modelValue":e[32]||(e[32]=l=>s(t).draft.supervisor_unit=l),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(c,{label:"项目类别",required:""},{default:r(()=>[a("div",Kl,[o(f,{modelValue:s(t).draft.project_category_level1,"onUpdate:modelValue":e[33]||(e[33]=l=>s(t).draft.project_category_level1=l),placeholder:"选择市",style:{width:"50%"},filterable:"",clearable:""},{default:r(()=>[(d(!0),b(N,null,I(s(t).projectCategoryLevel1Options,(l,v)=>(d(),C(u,{key:v,value:String(l.value),label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),o(f,{modelValue:s(t).draft.project_category_level2,"onUpdate:modelValue":e[34]||(e[34]=l=>s(t).draft.project_category_level2=l),class:"ml10",placeholder:"请先选择市",style:{width:"50%"},disabled:!s(t).draft.project_category_level1,filterable:"",clearable:""},{default:r(()=>[(d(!0),b(N,null,I(s(t).projectCategoryLevel2Options,(l,v)=>(d(),C(u,{key:v,value:String(l.value),label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","disabled"])])]),_:1}),o(c,{label:"本年度计划投资额"},{default:r(()=>[a("div",Jl,[o(i,{modelValue:s(t).draft.plan_year,"onUpdate:modelValue":e[35]||(e[35]=l=>s(t).draft.plan_year=l),style:{width:"90px"},disabled:""},null,8,["modelValue"]),o(i,{modelValue:s(t).draft.plan_year_amount,"onUpdate:modelValue":e[36]||(e[36]=l=>s(t).draft.plan_year_amount=l),class:"ml10",placeholder:"请输入",style:{flex:"1"}},{append:r(()=>[...e[96]||(e[96]=[w("万元",-1)])]),_:1},8,["modelValue"])])]),_:1}),o(c,{label:"累计完成投资"},{default:r(()=>[o(i,{modelValue:s(t).draft.cumulative_completed_invest,"onUpdate:modelValue":e[37]||(e[37]=l=>s(t).draft.cumulative_completed_invest=l),placeholder:"请输入"},{append:r(()=>[...e[97]||(e[97]=[w("万元",-1)])]),_:1},8,["modelValue"])]),_:1}),o(c,{label:"预计完成时间"},{default:r(()=>[o(m,{modelValue:s(t).draft.expected_finish_date,"onUpdate:modelValue":e[38]||(e[38]=l=>s(t).draft.expected_finish_date=l),style:{width:"100%"},type:"date","value-format":"YYYY-MM-DD",format:"YYYY-MM-DD",placeholder:"选择日期"},null,8,["modelValue"])]),_:1}),o(c,{label:"项目收益"},{default:r(()=>[o(i,{modelValue:s(t).draft.project_benefit,"onUpdate:modelValue":e[39]||(e[39]=l=>s(t).draft.project_benefit=l),placeholder:"请输入"},{append:r(()=>[...e[98]||(e[98]=[w("万元",-1)])]),_:1},8,["modelValue"])]),_:1}),o(c,{label:"危险住房改造"},{default:r(()=>[o(i,{modelValue:s(t).draft.danger_house_renovation,"onUpdate:modelValue":e[40]||(e[40]=l=>s(t).draft.danger_house_renovation=l),placeholder:"请输入"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(c,{label:"建设内容",required:""},{default:r(()=>[o(i,{modelValue:s(t).draft.build_content,"onUpdate:modelValue":e[41]||(e[41]=l=>s(t).draft.build_content=l),type:"textarea",rows:6,placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(c,{label:"备注"},{default:r(()=>[o(i,{modelValue:s(t).draft.remark,"onUpdate:modelValue":e[42]||(e[42]=l=>s(t).draft.remark=l),type:"textarea",rows:4,placeholder:"请输入"},null,8,["modelValue"])]),_:1}),e[124]||(e[124]=a("div",{class:"fw f16 mt10 mb10"},"资金来源",-1)),a("div",Gl,[o(ee,{gutter:20},{default:r(()=>[o(B,{span:12},{default:r(()=>[o(c,{label:"中央预算内投资","label-width":"140px"},{default:r(()=>[o(i,{modelValue:s(t).draft.funds.central_budget,"onUpdate:modelValue":e[43]||(e[43]=l=>s(t).draft.funds.central_budget=l),placeholder:"请输入"},{append:r(()=>[...e[99]||(e[99]=[w("万元",-1)])]),_:1},8,["modelValue"])]),_:1}),o(c,{label:"超长期国债","label-width":"140px"},{default:r(()=>[o(i,{modelValue:s(t).draft.funds.ultra_long_bond,"onUpdate:modelValue":e[44]||(e[44]=l=>s(t).draft.funds.ultra_long_bond=l),placeholder:"请输入"},{append:r(()=>[...e[100]||(e[100]=[w("万元",-1)])]),_:1},8,["modelValue"])]),_:1}),o(c,{label:"专项债","label-width":"140px"},{default:r(()=>[o(i,{modelValue:s(t).draft.funds.special_debt,"onUpdate:modelValue":e[45]||(e[45]=l=>s(t).draft.funds.special_debt=l),placeholder:"请输入"},{append:r(()=>[...e[101]||(e[101]=[w("万元",-1)])]),_:1},8,["modelValue"])]),_:1}),o(c,{label:"财政","label-width":"140px"},{default:r(()=>[o(i,{modelValue:s(t).draft.funds.fiscal,"onUpdate:modelValue":e[46]||(e[46]=l=>s(t).draft.funds.fiscal=l),placeholder:"请输入"},{append:r(()=>[...e[102]||(e[102]=[w("万元",-1)])]),_:1},8,["modelValue"])]),_:1}),o(c,{label:"其他渠道","label-width":"140px"},{default:r(()=>[o(i,{modelValue:s(t).draft.funds.other_channel,"onUpdate:modelValue":e[47]||(e[47]=l=>s(t).draft.funds.other_channel=l),placeholder:"请输入"},{append:r(()=>[...e[103]||(e[103]=[w("万元",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(B,{span:12},{default:r(()=>[o(c,{label:"信贷融资","label-width":"140px"},{default:r(()=>[o(i,{modelValue:s(t).draft.funds.credit_financing,"onUpdate:modelValue":e[48]||(e[48]=l=>s(t).draft.funds.credit_financing=l),placeholder:"请输入"},{append:r(()=>[...e[104]||(e[104]=[w("万元",-1)])]),_:1},8,["modelValue"])]),_:1}),o(c,{label:"证券化融资","label-width":"140px"},{default:r(()=>[o(i,{modelValue:s(t).draft.funds.securitization_financing,"onUpdate:modelValue":e[49]||(e[49]=l=>s(t).draft.funds.securitization_financing=l),placeholder:"请输入"},{append:r(()=>[...e[105]||(e[105]=[w("万元",-1)])]),_:1},8,["modelValue"])]),_:1}),o(c,{label:"企业融资","label-width":"140px"},{default:r(()=>[o(i,{modelValue:s(t).draft.funds.enterprise_financing,"onUpdate:modelValue":e[50]||(e[50]=l=>s(t).draft.funds.enterprise_financing=l),placeholder:"请输入"},{append:r(()=>[...e[106]||(e[106]=[w("万元",-1)])]),_:1},8,["modelValue"])]),_:1}),o(c,{label:"居民出资","label-width":"140px"},{default:r(()=>[o(i,{modelValue:s(t).draft.funds.resident_contribution,"onUpdate:modelValue":e[51]||(e[51]=l=>s(t).draft.funds.resident_contribution=l),placeholder:"请输入"},{append:r(()=>[...e[107]||(e[107]=[w("万元",-1)])]),_:1},8,["modelValue"])]),_:1}),o(c,{label:"待定","label-width":"140px"},{default:r(()=>[o(i,{modelValue:s(t).draft.funds.tbd,"onUpdate:modelValue":e[52]||(e[52]=l=>s(t).draft.funds.tbd=l),placeholder:"请输入"},{append:r(()=>[...e[108]||(e[108]=[w("万元",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),e[125]||(e[125]=a("div",{class:"fw f16 mt15 mb10"},"联系人与政策/目标",-1)),o(ee,{gutter:20},{default:r(()=>[o(B,{span:12},{default:r(()=>[o(c,{label:"项目责任人",required:""},{default:r(()=>[o(i,{modelValue:s(t).draft.contacts.project_owner,"onUpdate:modelValue":e[53]||(e[53]=l=>s(t).draft.contacts.project_owner=l),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(c,{label:"项目联系方式",required:""},{default:r(()=>[o(i,{modelValue:s(t).draft.contacts.project_owner_phone,"onUpdate:modelValue":e[54]||(e[54]=l=>s(t).draft.contacts.project_owner_phone=l),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(c,{label:"所符合的产业政策"},{default:r(()=>[o(i,{modelValue:s(t).draft.contacts.industry_policy,"onUpdate:modelValue":e[55]||(e[55]=l=>s(t).draft.contacts.industry_policy=l),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(c,{label:"到2030年的量化目标"},{default:r(()=>[o(i,{modelValue:s(t).draft.contacts.target_2030,"onUpdate:modelValue":e[56]||(e[56]=l=>s(t).draft.contacts.target_2030=l),placeholder:"请输入"},null,8,["modelValue"])]),_:1})]),_:1}),o(B,{span:12},{default:r(()=>[o(c,{label:"项目联系人",required:""},{default:r(()=>[o(i,{modelValue:s(t).draft.contacts.project_contact,"onUpdate:modelValue":e[57]||(e[57]=l=>s(t).draft.contacts.project_contact=l),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(c,{label:"符合重大战略"},{default:r(()=>[o(i,{modelValue:s(t).draft.contacts.major_strategy,"onUpdate:modelValue":e[58]||(e[58]=l=>s(t).draft.contacts.major_strategy=l),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(c,{label:"政府投资方向"},{default:r(()=>[o(i,{modelValue:s(t).draft.contacts.government_invest_direction,"onUpdate:modelValue":e[59]||(e[59]=l=>s(t).draft.contacts.government_invest_direction=l),placeholder:"请输入"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e[126]||(e[126]=a("div",{class:"fw f16 mt15 mb10"},"其他信息",-1)),o(ee,{gutter:20},{default:r(()=>[o(B,{span:12},{default:r(()=>[(d(!0),b(N,null,I(s(t).otherInfoLeft,(l,v)=>(d(),b("div",{class:"flex-bc ptb6",key:v},[a("span",Zl,h(l.label),1),o(Ie,{modelValue:s(t).draft.other_info[l.key],"onUpdate:modelValue":Z=>s(t).draft.other_info[l.key]=Z,size:"small"},{default:r(()=>[o(ne,{label:!0},{default:r(()=>[...e[109]||(e[109]=[w("是",-1)])]),_:1}),o(ne,{label:!1},{default:r(()=>[...e[110]||(e[110]=[w("否",-1)])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]))),128))]),_:1}),o(B,{span:12},{default:r(()=>[(d(!0),b(N,null,I(s(t).otherInfoRight,(l,v)=>(d(),b("div",{class:"flex-bc ptb6",key:v},[a("span",Hl,h(l.label),1),o(Ie,{modelValue:s(t).draft.other_info[l.key],"onUpdate:modelValue":Z=>s(t).draft.other_info[l.key]=Z,size:"small"},{default:r(()=>[o(ne,{label:!0},{default:r(()=>[...e[111]||(e[111]=[w("是",-1)])]),_:1}),o(ne,{label:!1},{default:r(()=>[...e[112]||(e[112]=[w("否",-1)])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]))),128))]),_:1})]),_:1}),e[127]||(e[127]=a("div",{class:"fw f16 mt15 mb10"},"项目范围",-1)),a("div",Xl,[o(i,{modelValue:s(t).draft.project_range,"onUpdate:modelValue":e[60]||(e[60]=l=>s(t).draft.project_range=l),placeholder:"请输入",class:"mb10"},null,8,["modelValue"]),a("div",Ql,[o(G,{type:"primary",onClick:e[61]||(e[61]=l=>Ke())},{default:r(()=>[...e[113]||(e[113]=[w("地块绘制",-1)])]),_:1}),a("div",es,[o(ge,{model:s(t).draft.invalid_file,"onUpdate:model":e[62]||(e[62]=l=>s(t).draft.invalid_file=l)},null,8,["model"])])])]),a("div",ts,[e[115]||(e[115]=a("img",{src:"https://img0.baidu.com/it/u=3470808383,3826880860&fm=253&fmt=auto&app=138&f=JPEG?w=750&h=500",style:{width:"100%",height:"100%","object-fit":"cover"},alt:"地图示例"},null,-1)),a("div",ls,[o(G,{type:"primary",onClick:e[63]||(e[63]=l=>Je())},{default:r(()=>[...e[114]||(e[114]=[w("完成绘制",-1)])]),_:1})])]),e[128]||(e[128]=a("div",{class:"fw f16 mt15 mb10"},"项目文件上传",-1)),o(ee,{gutter:20},{default:r(()=>[o(B,{span:12},{default:r(()=>[a("div",ss,[a("div",as,[e[116]||(e[116]=a("div",{class:"fw"},"更新潜力",-1)),o(ge,{model:s(t).draft.files.update_potential,"onUpdate:model":e[64]||(e[64]=l=>s(t).draft.files.update_potential=l)},null,8,["model"])]),a("div",os,[a("div",ns,[e[117]||(e[117]=a("span",{class:"w110"},"上传状态",-1)),a("span",rs,h(Se(s(t).draft.files.update_potential)),1)]),a("div",is,[e[118]||(e[118]=a("span",{class:"w110"},"文件类型",-1)),a("span",ds,h(ke(s(t).draft.files.update_potential)),1)]),a("div",us,[e[119]||(e[119]=a("span",{class:"w110"},"上传时间",-1)),a("span",ps,h(je(s(t).draft.files.update_potential)),1)])]),a("div",cs,[s(t).draft.files.update_potential?(d(),b("span",{key:0,class:"ml12 i1 cursor",onClick:e[65]||(e[65]=E(l=>he(s(t).draft.files.update_potential),["stop"]))},"查看")):Y("",!0),s(t).draft.files.update_potential?(d(),b("span",{key:1,class:"ml12 i9 cursor",onClick:e[66]||(e[66]=E(l=>Ce("update_potential"),["stop"]))},"删除")):Y("",!0)])])]),_:1}),o(B,{span:12},{default:r(()=>[a("div",fs,[a("div",ms,[e[120]||(e[120]=a("div",{class:"fw"},"功能业态",-1)),o(ge,{model:s(t).draft.files.function_format,"onUpdate:model":e[67]||(e[67]=l=>s(t).draft.files.function_format=l)},null,8,["model"])]),a("div",_s,[a("div",vs,[e[121]||(e[121]=a("span",{class:"w110"},"上传状态",-1)),a("span",bs,h(Se(s(t).draft.files.function_format)),1)]),a("div",ys,[e[122]||(e[122]=a("span",{class:"w110"},"文件类型",-1)),a("span",gs,h(ke(s(t).draft.files.function_format)),1)]),a("div",ws,[e[123]||(e[123]=a("span",{class:"w110"},"上传时间",-1)),a("span",Vs,h(je(s(t).draft.files.function_format)),1)])]),a("div",xs,[s(t).draft.files.function_format?(d(),b("span",{key:0,class:"ml12 i1 cursor",onClick:e[68]||(e[68]=E(l=>he(s(t).draft.files.function_format),["stop"]))},"查看")):Y("",!0),s(t).draft.files.function_format?(d(),b("span",{key:1,class:"ml12 i9 cursor",onClick:e[69]||(e[69]=E(l=>Ce("function_format"),["stop"]))},"删除")):Y("",!0)])])]),_:1})]),_:1})]),_:1},8,["model"])],512),[[le,s(t).drawerStep===0]]),te(a("div",Ss,[...e[129]||(e[129]=[a("div",{class:"rad4 bo-cc-1 p12 c6"},"实施方案",-1)])],512),[[le,s(t).drawerStep===1]]),a("div",ks,[s(t).drawerStep===0?(d(),C(G,{key:0,onClick:e[70]||(e[70]=l=>We())},{default:r(()=>[...e[130]||(e[130]=[w("返回",-1)])]),_:1})):Y("",!0),s(t).drawerStep===1?(d(),C(G,{key:1,onClick:e[71]||(e[71]=l=>He())},{default:r(()=>[...e[131]||(e[131]=[w("上一步",-1)])]),_:1})):Y("",!0),s(t).drawerStep===0?(d(),C(G,{key:2,type:"primary",onClick:e[72]||(e[72]=l=>Ze())},{default:r(()=>[...e[132]||(e[132]=[w("下一步",-1)])]),_:1})):Y("",!0),s(t).drawerStep===1?(d(),C(G,{key:3,type:"primary",onClick:e[73]||(e[73]=l=>Xe())},{default:r(()=>[...e[133]||(e[133]=[w("提交",-1)])]),_:1})):Y("",!0)])])])]),_:1},8,["modelValue"])])}}}),Os=Ut(js,[["__scopeId","data-v-86e3bbbf"]]);export{Os as default};
