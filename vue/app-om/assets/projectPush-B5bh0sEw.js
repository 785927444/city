import{d as I,b as M,j as O,aq as R,o as f,c as x,f as a,a as t,w as o,Z as W,y as g,F as K,p as Z,db as T,r as G,i as u,K as E,n as H,$ as J,a8 as Q,m as X,q as Y,E as ee,a0 as ae,a1 as te,e as j,t as v,z as se,h as le,dc as ne,l as de}from"./index-ClTGGYJq.js";import{E as oe}from"./el-pagination-B7EgBbn6.js";import{_ as ie}from"./check-ETYKhhpS.js";import{h as re}from"./index-Da8m4HG1.js";const ce={class:"push-library-container"},pe={class:"layout-row"},ue={class:"left-panel"},ve={class:"filter-card bg-white rad8 p8 mb15"},me={class:"list-card layout-col flex1 bg-white rad8 p8"},fe={class:"ww100 flex-sc p8"},ge={class:"flex-sc fw f16 tc"},be={class:"table flex-sc warp"},_e=["onClick"],he={class:"ww100 flex-sc p12 bob-ce-1"},we={class:"f15 line1"},xe={class:"flex1 flex-ec"},ye={class:"ww100 flex-col p12 c6"},ke={class:"ww100 flex-sc"},Ve={class:"flex1 line1"},Ce={class:"ww100 flex-sc mt10"},Te={class:"flex1 line1"},Ee={class:"ww100 flex-sc mt10"},je={class:"flex1 line1"},Be={class:"ww100 flex-sc mt10"},Pe={class:"flex1 line1"},Ue={class:"ww100 flex-sc mt10"},ze={class:"flex-sc flex1"},Le={class:"flex1 line1"},Se={class:"project-card-actions"},Ae=["onClick"],$e={class:"pagination"},qe={class:"right-panel ml15"},Ne={class:"bg-white rad8 p15 right-card"},Fe=I({__name:"projectPush",setup(De){const d=G({period:[],city:"太原市",district:"小店区",stage:"储备阶段",investment:"5千万以上",type:"加强既有建筑改造",keyword:""}),p=u("pending"),b=u(!1),_=u(9),h=u(1),B=u([{id:1,name:"龙城片区旧城改造项目",region:"太原市-小店区",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"pending",checked:!1},{id:2,name:"迎泽区老旧小区提升项目",region:"太原市-迎泽区",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"pending",checked:!1},{id:3,name:"杏花岭区片区更新项目",region:"太原市-杏花岭区",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"pending",checked:!1},{id:4,name:"万柏林区综合整治项目",region:"太原市-万柏林区",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"pending",checked:!1},{id:5,name:"晋源区道路提升项目",region:"太原市-晋源区",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"recommended",checked:!1},{id:6,name:"尖草坪区街区改造项目",region:"太原市-尖草坪区",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"recommended",checked:!1},{id:7,name:"清徐县城中村改造项目",region:"太原市-清徐县",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"pending",checked:!1},{id:8,name:"阳曲县片区更新项目",region:"太原市-阳曲县",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"pending",checked:!1},{id:9,name:"娄烦县旧城改造项目",region:"太原市-娄烦县",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"rejected",checked:!1},{id:10,name:"古交市片区更新项目",region:"太原市-古交市",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"pending",checked:!1},{id:11,name:"龙城片区配套完善项目",region:"太原市-小店区",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"recommended",checked:!1},{id:12,name:"迎泽区基础设施提升项目",region:"太原市-迎泽区",period:"2026-2028",investment:"12000万元",nature:"新建",updateTime:"2025-12-12",status:"pending",checked:!1}]),y=u([{name:"太原-大营区",blue:190,cyan:171},{name:"古交市",blue:100,cyan:185},{name:"娄烦县",blue:200,cyan:148},{name:"阳曲县",blue:100,cyan:219},{name:"清徐县",blue:150,cyan:141}]),k=u();let c=null;const V=E(()=>B.value.filter(l=>l.status===p.value)),C=E(()=>{const l=(h.value-1)*_.value;return V.value.slice(l,l+_.value)}),P=l=>{h.value=l},U=()=>{C.value.forEach(l=>{l.checked=b.value})},z=()=>{b.value=!b.value,U()},L=l=>{l.checked=!l.checked},S=l=>{ne("/project-push/apply",{demo:1,name:l.name,id:l.id})},m=async()=>{await H();const l=k.value;if(!l)return;c&&(c.dispose(),c=null),c=re(l);const e=y.value||[],w=e.map(i=>i.name),r=e.map(i=>i.blue),n=e.map(i=>i.cyan);c.setOption({grid:{left:60,right:20,top:10,bottom:20,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"value",splitLine:{lineStyle:{color:"#e5e7eb"}}},yAxis:{type:"category",data:w,axisTick:{show:!1}},series:[{name:"实施中项目",type:"bar",data:r,barWidth:10,itemStyle:{color:"#2b5cff"}},{name:"深规中项目",type:"bar",data:n,barWidth:10,itemStyle:{color:"#56c2e6"}}]})};return M(()=>{m(),window.addEventListener("resize",m)}),O(y,()=>{m()},{deep:!0}),R(()=>{window.removeEventListener("resize",m),c&&(c.dispose(),c=null)}),(l,e)=>{const w=Q,r=J,n=Y,i=X,A=ee,$=ae,q=W,N=ie,F=oe;return f(),x("div",ce,[a("div",pe,[a("div",ue,[a("div",ve,[t(q,{inline:!0,model:d,class:"filter-form"},{default:o(()=>[t(r,{label:"项目周期"},{default:o(()=>[t(w,{modelValue:d.period,"onUpdate:modelValue":e[0]||(e[0]=s=>d.period=s),type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",style:{width:"240px"}},null,8,["modelValue"])]),_:1}),t(r,{label:"所属地区"},{default:o(()=>[t(i,{modelValue:d.city,"onUpdate:modelValue":e[1]||(e[1]=s=>d.city=s),placeholder:"太原市",style:{width:"140px"}},{default:o(()=>[t(n,{label:"太原市",value:"太原市"}),t(n,{label:"大同市",value:"大同市"}),t(n,{label:"晋中市",value:"晋中市"})]),_:1},8,["modelValue"]),t(i,{modelValue:d.district,"onUpdate:modelValue":e[2]||(e[2]=s=>d.district=s),placeholder:"小店区",style:{width:"140px","margin-left":"10px"}},{default:o(()=>[t(n,{label:"小店区",value:"小店区"}),t(n,{label:"迎泽区",value:"迎泽区"}),t(n,{label:"杏花岭区",value:"杏花岭区"})]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"项目阶段"},{default:o(()=>[t(i,{modelValue:d.stage,"onUpdate:modelValue":e[3]||(e[3]=s=>d.stage=s),placeholder:"储备阶段",style:{width:"140px"}},{default:o(()=>[t(n,{label:"储备阶段",value:"储备阶段"}),t(n,{label:"实施阶段",value:"实施阶段"}),t(n,{label:"完工阶段",value:"完工阶段"})]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"总投资金额"},{default:o(()=>[t(i,{modelValue:d.investment,"onUpdate:modelValue":e[4]||(e[4]=s=>d.investment=s),placeholder:"5千万以上",style:{width:"140px"}},{default:o(()=>[t(n,{label:"5千万以上",value:"5千万以上"}),t(n,{label:"1亿以上",value:"1亿以上"}),t(n,{label:"2亿以上",value:"2亿以上"})]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"项目类型"},{default:o(()=>[t(i,{modelValue:d.type,"onUpdate:modelValue":e[5]||(e[5]=s=>d.type=s),placeholder:"加强既有建筑改造",style:{width:"200px"}},{default:o(()=>[t(n,{label:"加强既有建筑改造",value:"加强既有建筑改造"}),t(n,{label:"完善社区服务设施",value:"完善社区服务设施"}),t(n,{label:"改善人居环境",value:"改善人居环境"})]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"项目名称"},{default:o(()=>[t(A,{modelValue:d.keyword,"onUpdate:modelValue":e[6]||(e[6]=s=>d.keyword=s),placeholder:"请输入",style:{width:"180px"}},null,8,["modelValue"])]),_:1}),t(r,null,{default:o(()=>[t($,{type:"primary",class:"search-btn"},{default:o(()=>[...e[10]||(e[10]=[te("搜索",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),a("div",me,[a("div",fe,[a("div",ge,[a("div",{class:"mr40 cursor flex-col-cc relative",onClick:e[7]||(e[7]=s=>p.value="pending")},[e[11]||(e[11]=a("span",{class:"mb5"},"待审核",-1)),a("span",{class:g(["ww100 h3 rad10",p.value==="pending"?"bgi2":"black-rgba0"])},null,2)]),a("div",{class:"mr40 cursor flex-col-cc relative",onClick:e[8]||(e[8]=s=>p.value="recommended")},[e[12]||(e[12]=a("span",{class:"mb5"},"推送库",-1)),a("span",{class:g(["ww100 h3 rad10",p.value==="recommended"?"bgi2":"black-rgba0"])},null,2)]),a("div",{class:"mr40 cursor flex-col-cc relative",onClick:e[9]||(e[9]=s=>p.value="rejected")},[e[13]||(e[13]=a("span",{class:"mb5"},"已退回",-1)),a("span",{class:g(["ww100 h3 rad10",p.value==="rejected"?"bgi2":"black-rgba0"])},null,2)])]),a("div",{class:"flex-ec flex1"},[a("div",{class:"rad4 ptb5 plr12 flex-cc cursor bg-white c8 bo-cc-1 ml15",onClick:z},"全选"),e[14]||(e[14]=a("div",{class:"rad4 ptb5 plr12 flex-cc cursor bgi1 white bo-i1-1 ml15"},"提醒",-1))])]),a("div",be,[(f(!0),x(K,null,Z(C.value,s=>(f(),x("div",{class:"ww25 cursor p8",key:s.id},[a("div",{class:"ww100 bs bo-i16-1 relative rad8 project-card",onClick:j(D=>L(s),["stop"])},[a("div",he,[a("span",we,v(s.name),1),a("span",xe,[a("span",{class:g(["w28 h28 tc lh28 rad6 ml10 white f14",s.checked?"bgi1 bo-i1-1":"bo-cc-1 bg-white c8"])},[s.checked?(f(),se(N,{key:0})):le("",!0)],2)])]),a("div",ye,[a("div",ke,[e[15]||(e[15]=a("span",{class:"w110"},"所属地区",-1)),a("span",Ve,v(s.region),1)]),a("div",Ce,[e[16]||(e[16]=a("span",{class:"w110"},"项目周期",-1)),a("span",Te,v(s.period),1)]),a("div",Ee,[e[17]||(e[17]=a("span",{class:"w110"},"投资估算",-1)),a("span",je,v(s.investment),1)]),a("div",Be,[e[18]||(e[18]=a("span",{class:"w110"},"项目性质",-1)),a("span",Pe,v(s.nature),1)]),a("div",Ue,[a("div",ze,[e[19]||(e[19]=a("span",{class:"w110"},"更新进度时间",-1)),a("span",Le,v(s.updateTime),1)])])]),a("div",Se,[a("div",{class:"rad5 ptb5 plr12 cursor bgi1 white",onClick:j(D=>S(s),["stop"])},"审批",8,Ae)])],8,_e)]))),128))]),a("div",$e,[t(F,{background:"",layout:"prev, pager, next",total:V.value.length,"page-size":_.value,"current-page":h.value,onCurrentChange:P},null,8,["total","page-size","current-page"])])])]),a("div",qe,[e[21]||(e[21]=T('<div class="quick-actions" data-v-80966761><div class="quick-card" data-v-80966761>项目台账</div><div class="quick-card" data-v-80966761>项目实施跟踪</div></div><div class="bg-white rad8 p15 mb15 right-card" data-v-80966761><div class="chart-title" data-v-80966761>项目实施情况</div><div class="ring-wrap" data-v-80966761><div class="ring" data-v-80966761><span data-v-80966761>50%</span></div></div><div class="ring-info" data-v-80966761><div data-v-80966761>共<span class="highlight" data-v-80966761>51</span>个上报项目</div><div data-v-80966761>处于推进中状态</div></div></div>',2)),a("div",Ne,[e[20]||(e[20]=T('<div class="chart-title" data-v-80966761>项目分布情况</div><div class="legend" data-v-80966761><span class="legend-item" data-v-80966761><span class="dot blue" data-v-80966761></span>实施中项目</span><span class="legend-item" data-v-80966761><span class="dot cyan" data-v-80966761></span>深规中项目</span></div>',2)),a("div",{ref_key:"barChartRef",ref:k,class:"bar-chart"},null,512)])])])])}}}),We=de(Fe,[["__scopeId","data-v-80966761"]]);export{We as default};
