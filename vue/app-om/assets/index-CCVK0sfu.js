import{_ as g}from"./Add-Dow2Ues2.js";import{_ as b}from"./List.vue_vue_type_script_setup_true_lang-CRJw57K5.js";import{_ as v}from"./AaTitle.vue_vue_type_script_setup_true_lang-msvlqApB.js";import{d as x,g as q,r as C,b as S,o as y,c as _,f as u,a as d,w as f,u as o,e as V,_ as N,t as j,h as $,i as B}from"./index-BF5jje68.js";/* empty css                    */import"./index-CU8Q0z-M.js";import"./Upload-DGrHTtFE.js";/* empty css                   */import"./index-CND7x1jx.js";import"./el-text-CBvW04Pe.js";import"./index-VYQ43fvS.js";/* empty css                    */import"./el-image-viewer-DMRq40TL.js";import"./el-switch-DkPm2rNO.js";import"./select-CBJjauee.js";const I={class:"layout-col"},L={class:"layout-col"},A={class:"f14 ml2"},M={class:"layout-col white-rgba50 rad8 p15"},Y=x({__name:"index",setup(O){const{proxy:n}=q(),l=n.publicStore();n.configStore();const c=n.dictStore();let s=B();const e=C({...l.$state,content:[{width:"w70",show:!0,align:"center",key:"*",name:"序号"},{width:"w50x4",show:!0,align:"left",key:"model",name:"模型"},{width:"w50x4",show:!0,align:"left",key:"name",name:"名称"},{width:"w50x4",show:!0,align:"left",key:"path",name:"类型",type:"select",list:c.authList,value:"value",label:"name"},{width:"w50x4",show:!0,align:"left",key:"order",name:"排序"},{width:"w50x4",show:!0,align:"left",key:"type",name:"其他"},{width:"flex1",show:!0,align:"right",key:l.auth,name:"操作"}],editFrom:[{required:!0,editshow:!0,key:"model",name:"模型",type:"input"},{required:!0,editshow:!0,key:"name",name:"名称",type:"input"},{required:!0,editshow:!0,key:"path",name:"类型",type:"select",list:c.authList,value:"value",label:"name"},{required:!1,editshow:!0,key:"order",name:"排序",type:"input"},{required:!1,editshow:!0,key:"type",name:"其他",type:"input"}]});S(async()=>{m()});const m=async a=>{e.query={model:e.model},e.params={Api:e.query};let t=await l.http(e.params);e.empty=!!n.isNull(t),e.list=n.isNull(t)?[]:t.sort((r,p)=>r.order-p.order),l._public.list=e.list},h=(a,t)=>{if((a=="add"||a=="upd")&&s.value.onVisable(t),a=="child"){let r=n.varObj(e.parent,t[e.key]);s.value.onVisable(r)}a=="del"&&s.value.del(t)};return(a,t)=>{const r=N,p=v,w=b,k=g;return y(),_("div",I,[u("div",L,[d(p,{title:"权限列表"},{"left-content":f(()=>[...t[1]||(t[1]=[])]),"right-content":f(()=>[o(e).content.find(i=>typeof i.key=="object")&&o(e).content.find(i=>typeof i.key=="object").key.hasOwnProperty("add")?(y(),_("div",{key:0,class:"rad4 ptb5 plr8 flex-cc cursor bgi1 white ml10",onClick:t[0]||(t[0]=V(i=>o(s).onVisable(o(e).addItem),["stop"]))},[d(r,{class:"f12 fw"}),u("span",A,j(o(e).content.find(i=>typeof i.key=="object").key.add),1)])):$("",!0)]),_:1}),u("div",M,[d(w,{onHandleClick:h,state:o(e)},null,8,["state"])]),d(k,{onInit:m,state:o(e),ref_key:"addRef",ref:s},null,8,["state"])])])}}});export{Y as default};
