import{bK as C,ao as T,ap as N,aI as S,aN as P,U as B,ag as q,aJ as X,aD as V,bL as Y,aE as Z,d as p,aM as _,ai as ee,K as ae,aQ as te,aL as ie,i as ne,j as M,b as le,o as a,c as v,f as x,b3 as ce,u as i,p as d,af as y,x as o,w as r,ak as b,ay as f,h as s,t as E,a as se,ax as oe,m as ue,e as ve,b9 as de,Q as m,n as re,bM as z,b1 as fe,bN as me,aO as he,a2 as ye}from"./index-BWjCSAnw.js";const be=q({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:void 0},loading:Boolean,size:{type:String,validator:Y},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:V},activeActionIcon:{type:V},activeIcon:{type:V},inactiveIcon:{type:V},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Z(Function)},id:String,tabindex:{type:[String,Number]},...X(["ariaLabel"])}),ke={[B]:e=>T(e)||N(e)||S(e),[P]:e=>T(e)||N(e)||S(e),[C]:e=>T(e)||N(e)||S(e)},Ie=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex"],ge=["aria-hidden"],we={key:1},Ve={key:1},Ee=["aria-hidden"],L="ElSwitch";var Te=p({name:L,__name:"switch",props:be,emits:ke,setup(e,{expose:O,emit:F}){const l=e,h=F,{formItem:I}=_(),U=ee(),n=ae("switch"),{inputId:Q}=te(l,{formItemContext:I}),g=ie(m(()=>{if(l.loading)return!0})),A=ne(l.modelValue!==!1),k=de(),R=m(()=>[n.b(),n.m(U.value),n.is("disabled",g.value),n.is("checked",c.value)]),j=m(()=>[n.e("label"),n.em("label","left"),n.is("active",!c.value)]),G=m(()=>[n.e("label"),n.em("label","right"),n.is("active",c.value)]),H=m(()=>({width:me(l.width)}));M(()=>l.modelValue,()=>{A.value=!0});const $=m(()=>A.value?l.modelValue:!1),c=m(()=>$.value===l.activeValue);[l.activeValue,l.inactiveValue].includes($.value)||(h(B,l.inactiveValue),h(P,l.inactiveValue),h(C,l.inactiveValue)),M(c,t=>{var u;k.value.checked=t,l.validateEvent&&((u=I?.validate)==null||u.call(I,"change").catch(W=>he()))});const w=()=>{const t=c.value?l.inactiveValue:l.activeValue;h(B,t),h(P,t),h(C,t),re(()=>{k.value.checked=c.value})},D=()=>{if(g.value)return;const{beforeChange:t}=l;if(!t){w();return}const u=t();[z(u),T(u)].includes(!0)||fe(L,"beforeChange must return type `Promise<boolean>` or `boolean`"),z(u)?u.then(K=>{K&&w()}).catch(K=>{}):u&&w()},J=()=>{var t,u;(u=(t=k.value)==null?void 0:t.focus)==null||u.call(t)};return le(()=>{k.value.checked=c.value}),O({focus:J,checked:c}),(t,u)=>(a(),v("div",{class:d(R.value),onClick:ve(D,["prevent"])},[x("input",{id:i(Q),ref_key:"input",ref:k,class:d(i(n).e("input")),type:"checkbox",role:"switch","aria-checked":c.value,"aria-disabled":i(g),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:i(g),tabindex:e.tabindex,onChange:w,onKeydown:ce(D,["enter"])},null,42,Ie),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText||t.$slots.inactive)?(a(),v("span",{key:0,class:d(j.value)},[y(t.$slots,"inactive",{},()=>[e.inactiveIcon?(a(),o(i(f),{key:0},{default:r(()=>[(a(),o(b(e.inactiveIcon)))]),_:1})):s("v-if",!0),!e.inactiveIcon&&e.inactiveText?(a(),v("span",{key:1,"aria-hidden":c.value},E(e.inactiveText),9,ge)):s("v-if",!0)])],2)):s("v-if",!0),x("span",{class:d(i(n).e("core")),style:ue(H.value)},[e.inlinePrompt?(a(),v("div",{key:0,class:d(i(n).e("inner"))},[c.value?(a(),v("div",{key:1,class:d(i(n).e("inner-wrapper"))},[y(t.$slots,"active",{},()=>[e.activeIcon?(a(),o(i(f),{key:0},{default:r(()=>[(a(),o(b(e.activeIcon)))]),_:1})):s("v-if",!0),!e.activeIcon&&e.activeText?(a(),v("span",Ve,E(e.activeText),1)):s("v-if",!0)])],2)):(a(),v("div",{key:0,class:d(i(n).e("inner-wrapper"))},[y(t.$slots,"inactive",{},()=>[e.inactiveIcon?(a(),o(i(f),{key:0},{default:r(()=>[(a(),o(b(e.inactiveIcon)))]),_:1})):s("v-if",!0),!e.inactiveIcon&&e.inactiveText?(a(),v("span",we,E(e.inactiveText),1)):s("v-if",!0)])],2))],2)):s("v-if",!0),x("div",{class:d(i(n).e("action"))},[e.loading?(a(),o(i(f),{key:0,class:d(i(n).is("loading"))},{default:r(()=>[se(i(oe))]),_:1},8,["class"])):c.value?y(t.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(a(),o(i(f),{key:0},{default:r(()=>[(a(),o(b(e.activeActionIcon)))]),_:1})):s("v-if",!0)]):c.value?s("v-if",!0):y(t.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(a(),o(i(f),{key:0},{default:r(()=>[(a(),o(b(e.inactiveActionIcon)))]),_:1})):s("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText||t.$slots.active)?(a(),v("span",{key:1,class:d(G.value)},[y(t.$slots,"active",{},()=>[e.activeIcon?(a(),o(i(f),{key:0},{default:r(()=>[(a(),o(b(e.activeIcon)))]),_:1})):s("v-if",!0),!e.activeIcon&&e.activeText?(a(),v("span",{key:1,"aria-hidden":!c.value},E(e.activeText),9,Ee)):s("v-if",!0)])],2)):s("v-if",!0)],2))}});const Se=ye(Te);export{Se as E};
