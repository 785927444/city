import{ag as X,aE as $,d as J,K as ye,o as m,c as P,af as D,a as z,w as M,k as Y,f as A,m as _,p as g,u as l,C as be,t as ee,v as te,bt as se,Q as d,aI as C,bN as G,a2 as he,b2 as Ce,aD as Te,$ as ne,bO as oe,bP as xe,b as Se,j as we,L as Ee,bQ as Ne,x as h,h as N,ay as Q,ak as Be,F as Me,e as $e,bR as ke,i as B,bS as Ie,n as Le,bT as q,M as Oe,N as Pe,bU as u,ap as R,bV as ae,W as F,bW as K,bF as De,ao as O,an as Ae,bX as Fe}from"./index-BWjCSAnw.js";const ze=X({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:$([String,Object,Array])},offset:{type:$(Array),default:()=>[0,0]},badgeClass:{type:String}});var Re=J({name:"ElBadge",__name:"badge",props:ze,setup(e,{expose:o}){const t=e,n=ye("badge"),s=d(()=>t.isDot?"":C(t.value)&&C(t.max)?t.max<t.value?`${t.max}+`:`${t.value}`:`${t.value}`),r=d(()=>{var i;return[{backgroundColor:t.color,marginRight:G(-t.offset[0]),marginTop:G(t.offset[1])},(i=t.badgeStyle)!=null?i:{}]});return o({content:s}),(i,a)=>(m(),P("div",{class:g(l(n).b())},[D(i.$slots,"default"),z(se,{name:`${l(n).namespace.value}-zoom-in-center`,persisted:""},{default:M(()=>[Y(A("sup",{class:g([l(n).e("content"),l(n).em("content",e.type),l(n).is("fixed",!!i.$slots.default),l(n).is("dot",e.isDot),l(n).is("hide-zero",!e.showZero&&e.value===0),e.badgeClass]),style:_(r.value)},[D(i.$slots,"content",{value:s.value},()=>[be(ee(s.value),1)])],6),[[te,!e.hidden&&(s.value||e.isDot||i.$slots.content)]])]),_:3},8,["name"])],2))}});const Ue=he(Re),le=["primary","success","info","warning","error"],ie=["top","top-left","top-right","bottom","bottom-left","bottom-right"],T="top",c=Ce({customClass:"",dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,placement:void 0,zIndex:0,grouping:!1,repeatNum:1,appendTo:ne?document.body:void 0}),Ve=X({customClass:{type:String,default:c.customClass},dangerouslyUseHTMLString:{type:Boolean,default:c.dangerouslyUseHTMLString},duration:{type:Number,default:c.duration},icon:{type:Te,default:c.icon},id:{type:String,default:c.id},message:{type:$([String,Object,Function]),default:c.message},onClose:{type:$(Function),default:c.onClose},showClose:{type:Boolean,default:c.showClose},type:{type:String,values:le,default:c.type},plain:{type:Boolean,default:c.plain},offset:{type:Number,default:c.offset},placement:{type:String,values:ie,default:c.placement},zIndex:{type:Number,default:c.zIndex},grouping:{type:Boolean,default:c.grouping},repeatNum:{type:Number,default:c.repeatNum}}),He={destroy:()=>!0},f=oe({}),Ze=e=>(f[e]||(f[e]=oe([])),f[e]),je=(e,o)=>{const t=f[o]||[],n=t.findIndex(i=>i.id===e),s=t[n];let r;return n>0&&(r=t[n-1]),{current:s,prev:r}},We=(e,o)=>{const{prev:t}=je(e,o);return t?t.vm.exposed.bottom.value:0},Ge=(e,o,t)=>(f[t]||[]).findIndex(r=>r.id===e)>0?16:o,Qe=["id"],qe=["innerHTML"];var Ke=J({name:"ElMessage",__name:"message",props:Ve,emits:He,setup(e,{expose:o,emit:t}){const{Close:n}=ke,s=e,r=t,i=B(!1),{ns:a,zIndex:x}=xe("message"),{currentZIndex:U,nextZIndex:S}=x,k=B(),w=B(!1),V=B(0);let I;const ce=d(()=>s.type?s.type==="error"?"danger":s.type:"info"),ue=d(()=>{const p=s.type;return{[a.bm("icon",p)]:p&&q[p]}}),H=d(()=>s.icon||q[s.type]||""),y=d(()=>s.placement||T),de=d(()=>We(s.id,y.value)),Z=d(()=>Ge(s.id,s.offset,y.value)+de.value),pe=d(()=>V.value+Z.value),fe=d(()=>y.value.includes("left")?a.is("left"):y.value.includes("right")?a.is("right"):a.is("center")),j=d(()=>y.value.startsWith("top")?"top":"bottom"),me=d(()=>({[j.value]:`${Z.value}px`,zIndex:U.value}));function L(){s.duration!==0&&({stop:I}=Ie(()=>{E()},s.duration))}function W(){I?.()}function E(){w.value=!1,Le(()=>{var p;i.value||((p=s.onClose)==null||p.call(s),r("destroy"))})}function ge(p){Oe(p)===Pe.esc&&E()}return Se(()=>{L(),S(),w.value=!0}),we(()=>s.repeatNum,()=>{W(),L()}),Ee(document,"keydown",ge),Ne(k,()=>{V.value=k.value.getBoundingClientRect().height}),o({visible:w,bottom:pe,close:E}),(p,b)=>(m(),h(se,{name:l(a).b("fade"),onBeforeEnter:b[0]||(b[0]=ve=>i.value=!0),onBeforeLeave:e.onClose,onAfterLeave:b[1]||(b[1]=ve=>p.$emit("destroy")),persisted:""},{default:M(()=>[Y(A("div",{id:e.id,ref_key:"messageRef",ref:k,class:g([l(a).b(),{[l(a).m(e.type)]:e.type},l(a).is("closable",e.showClose),l(a).is("plain",e.plain),l(a).is("bottom",j.value==="bottom"),fe.value,e.customClass]),style:_(me.value),role:"alert",onMouseenter:W,onMouseleave:L},[e.repeatNum>1?(m(),h(l(Ue),{key:0,value:e.repeatNum,type:ce.value,class:g(l(a).e("badge"))},null,8,["value","type","class"])):N("v-if",!0),H.value?(m(),h(l(Q),{key:1,class:g([l(a).e("icon"),ue.value])},{default:M(()=>[(m(),h(Be(H.value)))]),_:1},8,["class"])):N("v-if",!0),D(p.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(m(),P(Me,{key:1},[N(" Caution here, message could've been compromised, never use user's input as message "),A("p",{class:g(l(a).e("content")),innerHTML:e.message},null,10,qe)],2112)):(m(),P("p",{key:0,class:g(l(a).e("content"))},ee(e.message),3))]),e.showClose?(m(),h(l(Q),{key:2,class:g(l(a).e("closeBtn")),onClick:$e(E,["stop"])},{default:M(()=>[z(l(n))]),_:1},8,["class"])):N("v-if",!0)],46,Qe),[[te,w.value]])]),_:3},8,["name","onBeforeLeave"]))}});let Xe=1;const Je=e=>{if(!e.appendTo)e.appendTo=document.body;else if(R(e.appendTo)){let t=document.querySelector(e.appendTo);De(t)||(t=document.body),e.appendTo=t}},Ye=e=>{!e.placement&&R(u.placement)&&u.placement&&(e.placement=u.placement),e.placement||(e.placement=T),ie.includes(e.placement)||(e.placement=T)},re=e=>{const o=!e||R(e)||ae(e)||F(e)?{message:e}:e,t={...c,...o};return Je(t),Ye(t),O(u.grouping)&&!t.grouping&&(t.grouping=u.grouping),C(u.duration)&&t.duration===3e3&&(t.duration=u.duration),C(u.offset)&&t.offset===16&&(t.offset=u.offset),O(u.showClose)&&!t.showClose&&(t.showClose=u.showClose),O(u.plain)&&!t.plain&&(t.plain=u.plain),t},_e=e=>{const o=e.props.placement||T,t=f[o],n=t.indexOf(e);if(n===-1)return;t.splice(n,1);const{handler:s}=e;s.close()},et=({appendTo:e,...o},t)=>{const n=`message_${Xe++}`,s=o.onClose,r=document.createElement("div"),i={...o,id:n,onClose:()=>{s?.(),_e(S)},onDestroy:()=>{K(null,r)}},a=z(Ke,i,F(i.message)||ae(i.message)?{default:F(i.message)?i.message:()=>i.message}:null);a.appContext=t||v._context,K(a,r),e.appendChild(r.firstElementChild);const x=a.component,S={id:n,vnode:a,vm:x,handler:{close:()=>{x.exposed.close()}},props:a.component.props};return S},v=(e={},o)=>{if(!ne)return{close:()=>{}};const t=re(e),n=Ze(t.placement||T);if(t.grouping&&n.length){const r=n.find(({vnode:i})=>{var a;return((a=i.props)==null?void 0:a.message)===t.message});if(r)return r.props.repeatNum+=1,r.props.type=t.type,r.handler}if(C(u.max)&&n.length>=u.max)return{close:()=>{}};const s=et(t,o);return n.push(s),s.handler};le.forEach(e=>{v[e]=(o={},t)=>{const n=re(o);return v({...n,type:e},t)}});function tt(e){for(const o in f)if(Ae(f,o)){const t=[...f[o]];for(const n of t)(!e||e===n.props.type)&&n.handler.close()}}function st(e){if(!f[e])return;[...f[e]].forEach(t=>t.handler.close())}v.closeAll=tt;v.closeAllByPlacement=st;v._context=null;const ot=Fe(v,"$message");export{ot as E};
