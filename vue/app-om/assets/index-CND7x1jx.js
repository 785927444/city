import{ad as X,aB as k,d as Q,C as ye,o as m,c as P,ac as A,a as F,w as M,k as Y,f as D,x as _,y as g,u as l,a1 as be,t as ee,v as te,bh as se,K as d,b7 as C,bE as K,X as he,aN as Ce,aA as Te,T as ne,bF as oe,bG as xe,b as Se,j as we,D as Ee,bH as Ne,z as h,h as N,av as q,ah as Be,F as Me,e as ke,bI as Ie,i as B,bJ as $e,n as Le,bK as J,G as Oe,H as Pe,bL as u,am as H,bM as ae,P as z,bN as W,bt as Ae,al as O,ak as De,bO as ze}from"./index-BF5jje68.js";const Fe=X({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:k([String,Object,Array])},offset:{type:k(Array),default:()=>[0,0]},badgeClass:{type:String}});var He=Q({name:"ElBadge",__name:"badge",props:Fe,setup(e,{expose:o}){const t=e,n=ye("badge"),s=d(()=>t.isDot?"":C(t.value)&&C(t.max)?t.max<t.value?`${t.max}+`:`${t.value}`:`${t.value}`),r=d(()=>{var i;return[{backgroundColor:t.color,marginRight:K(-t.offset[0]),marginTop:K(t.offset[1])},(i=t.badgeStyle)!=null?i:{}]});return o({content:s}),(i,a)=>(m(),P("div",{class:g(l(n).b())},[A(i.$slots,"default"),F(se,{name:`${l(n).namespace.value}-zoom-in-center`,persisted:""},{default:M(()=>[Y(D("sup",{class:g([l(n).e("content"),l(n).em("content",e.type),l(n).is("fixed",!!i.$slots.default),l(n).is("dot",e.isDot),l(n).is("hide-zero",!e.showZero&&e.value===0),e.badgeClass]),style:_(r.value)},[A(i.$slots,"content",{value:s.value},()=>[be(ee(s.value),1)])],6),[[te,!e.hidden&&(s.value||e.isDot||i.$slots.content)]])]),_:3},8,["name"])],2))}});const Re=he(He),le=["primary","success","info","warning","error"],ie=["top","top-left","top-right","bottom","bottom-left","bottom-right"],T="top",c=Ce({customClass:"",dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,placement:void 0,zIndex:0,grouping:!1,repeatNum:1,appendTo:ne?document.body:void 0}),Ue=X({customClass:{type:String,default:c.customClass},dangerouslyUseHTMLString:{type:Boolean,default:c.dangerouslyUseHTMLString},duration:{type:Number,default:c.duration},icon:{type:Te,default:c.icon},id:{type:String,default:c.id},message:{type:k([String,Object,Function]),default:c.message},onClose:{type:k(Function),default:c.onClose},showClose:{type:Boolean,default:c.showClose},type:{type:String,values:le,default:c.type},plain:{type:Boolean,default:c.plain},offset:{type:Number,default:c.offset},placement:{type:String,values:ie,default:c.placement},zIndex:{type:Number,default:c.zIndex},grouping:{type:Boolean,default:c.grouping},repeatNum:{type:Number,default:c.repeatNum}}),Ve={destroy:()=>!0},p=oe({}),Ge=e=>(p[e]||(p[e]=oe([])),p[e]),Ze=(e,o)=>{const t=p[o]||[],n=t.findIndex(i=>i.id===e),s=t[n];let r;return n>0&&(r=t[n-1]),{current:s,prev:r}},je=(e,o)=>{const{prev:t}=Ze(e,o);return t?t.vm.exposed.bottom.value:0},Ke=(e,o,t)=>(p[t]||[]).findIndex(r=>r.id===e)>0?16:o,qe=["id"],Je=["innerHTML"];var We=Q({name:"ElMessage",__name:"message",props:Ue,emits:Ve,setup(e,{expose:o,emit:t}){const{Close:n}=Ie,s=e,r=t,i=B(!1),{ns:a,zIndex:x}=xe("message"),{currentZIndex:R,nextZIndex:S}=x,I=B(),w=B(!1),U=B(0);let $;const ce=d(()=>s.type?s.type==="error"?"danger":s.type:"info"),ue=d(()=>{const f=s.type;return{[a.bm("icon",f)]:f&&J[f]}}),V=d(()=>s.icon||J[s.type]||""),y=d(()=>s.placement||T),de=d(()=>je(s.id,y.value)),G=d(()=>Ke(s.id,s.offset,y.value)+de.value),fe=d(()=>U.value+G.value),pe=d(()=>y.value.includes("left")?a.is("left"):y.value.includes("right")?a.is("right"):a.is("center")),Z=d(()=>y.value.startsWith("top")?"top":"bottom"),me=d(()=>({[Z.value]:`${G.value}px`,zIndex:R.value}));function L(){s.duration!==0&&({stop:$}=$e(()=>{E()},s.duration))}function j(){$?.()}function E(){w.value=!1,Le(()=>{var f;i.value||((f=s.onClose)==null||f.call(s),r("destroy"))})}function ge(f){Oe(f)===Pe.esc&&E()}return Se(()=>{L(),S(),w.value=!0}),we(()=>s.repeatNum,()=>{j(),L()}),Ee(document,"keydown",ge),Ne(I,()=>{U.value=I.value.getBoundingClientRect().height}),o({visible:w,bottom:fe,close:E}),(f,b)=>(m(),h(se,{name:l(a).b("fade"),onBeforeEnter:b[0]||(b[0]=ve=>i.value=!0),onBeforeLeave:e.onClose,onAfterLeave:b[1]||(b[1]=ve=>f.$emit("destroy")),persisted:""},{default:M(()=>[Y(D("div",{id:e.id,ref_key:"messageRef",ref:I,class:g([l(a).b(),{[l(a).m(e.type)]:e.type},l(a).is("closable",e.showClose),l(a).is("plain",e.plain),l(a).is("bottom",Z.value==="bottom"),pe.value,e.customClass]),style:_(me.value),role:"alert",onMouseenter:j,onMouseleave:L},[e.repeatNum>1?(m(),h(l(Re),{key:0,value:e.repeatNum,type:ce.value,class:g(l(a).e("badge"))},null,8,["value","type","class"])):N("v-if",!0),V.value?(m(),h(l(q),{key:1,class:g([l(a).e("icon"),ue.value])},{default:M(()=>[(m(),h(Be(V.value)))]),_:1},8,["class"])):N("v-if",!0),A(f.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(m(),P(Me,{key:1},[N(" Caution here, message could've been compromised, never use user's input as message "),D("p",{class:g(l(a).e("content")),innerHTML:e.message},null,10,Je)],2112)):(m(),P("p",{key:0,class:g(l(a).e("content"))},ee(e.message),3))]),e.showClose?(m(),h(l(q),{key:2,class:g(l(a).e("closeBtn")),onClick:ke(E,["stop"])},{default:M(()=>[F(l(n))]),_:1},8,["class"])):N("v-if",!0)],46,qe),[[te,w.value]])]),_:3},8,["name","onBeforeLeave"]))}});let Xe=1;const Qe=e=>{if(!e.appendTo)e.appendTo=document.body;else if(H(e.appendTo)){let t=document.querySelector(e.appendTo);Ae(t)||(t=document.body),e.appendTo=t}},Ye=e=>{!e.placement&&H(u.placement)&&u.placement&&(e.placement=u.placement),e.placement||(e.placement=T),ie.includes(e.placement)||(e.placement=T)},re=e=>{const o=!e||H(e)||ae(e)||z(e)?{message:e}:e,t={...c,...o};return Qe(t),Ye(t),O(u.grouping)&&!t.grouping&&(t.grouping=u.grouping),C(u.duration)&&t.duration===3e3&&(t.duration=u.duration),C(u.offset)&&t.offset===16&&(t.offset=u.offset),O(u.showClose)&&!t.showClose&&(t.showClose=u.showClose),O(u.plain)&&!t.plain&&(t.plain=u.plain),t},_e=e=>{const o=e.props.placement||T,t=p[o],n=t.indexOf(e);if(n===-1)return;t.splice(n,1);const{handler:s}=e;s.close()},et=({appendTo:e,...o},t)=>{const n=`message_${Xe++}`,s=o.onClose,r=document.createElement("div"),i={...o,id:n,onClose:()=>{s?.(),_e(S)},onDestroy:()=>{W(null,r)}},a=F(We,i,z(i.message)||ae(i.message)?{default:z(i.message)?i.message:()=>i.message}:null);a.appContext=t||v._context,W(a,r),e.appendChild(r.firstElementChild);const x=a.component,S={id:n,vnode:a,vm:x,handler:{close:()=>{x.exposed.close()}},props:a.component.props};return S},v=(e={},o)=>{if(!ne)return{close:()=>{}};const t=re(e),n=Ge(t.placement||T);if(t.grouping&&n.length){const r=n.find(({vnode:i})=>{var a;return((a=i.props)==null?void 0:a.message)===t.message});if(r)return r.props.repeatNum+=1,r.props.type=t.type,r.handler}if(C(u.max)&&n.length>=u.max)return{close:()=>{}};const s=et(t,o);return n.push(s),s.handler};le.forEach(e=>{v[e]=(o={},t)=>{const n=re(o);return v({...n,type:e},t)}});function tt(e){for(const o in p)if(De(p,o)){const t=[...p[o]];for(const n of t)(!e||e===n.props.type)&&n.handler.close()}}function st(e){if(!p[e])return;[...p[e]].forEach(t=>t.handler.close())}v.closeAll=tt;v.closeAllByPlacement=st;v._context=null;const ot=ze(v,"$message");export{ot as E};
