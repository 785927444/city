import{d as T,g as S,b as P,o as A,c as E,a as l,w as d,a6 as N,r as B,f as t,t as e,e as r,cx as V,a1 as D,K as c,l as I}from"./index-BF5jje68.js";import{E as M}from"./el-card-BHT0dsDn.js";import{_ as O}from"./close-BEc5Bqlj.js";const q={class:"annual-plan-detail-container"},z={class:"detail-header"},G={class:"detail-title"},K={class:"detail-summary"},L={class:"summary-item"},R={class:"value"},F={class:"summary-item"},H={class:"value"},J={class:"summary-item"},Q={class:"value"},U={class:"summary-item"},W={class:"value"},X={class:"summary-item"},Y={class:"value"},Z={class:"summary-item"},tt={class:"value"},st={class:"info-actions"},at=T({__name:"detail",setup(nt){const{proxy:o}=S(),p=o.publicStore(),u=N(),s=B({id:"",city_name:"",district_name:"",status:"",report_time:"",plan_year:"",investment_amount:"",project_count:"",report_unit:""}),m=c(()=>s.plan_year&&s.city_name?`${s.plan_year}年${s.city_name}年度计划`:s.city_name?`${s.city_name}年度计划`:"年度计划详情"),v=c(()=>s.city_name&&s.district_name?`${s.city_name}${s.district_name}`:s.city_name?s.city_name:"-"),f=c(()=>s.investment_amount?`${s.investment_amount}万`:"-"),y=c(()=>s.project_count?`${s.project_count}个`:"-"),g=c(()=>s.project_count?`${Number(s.project_count)*120}亩`:"-"),b=n=>({passed:"success",special_audit:"warning",failed:"danger",wait_report:"info",in_progress:""})[n]||"",x=n=>({passed:"已通过",special_audit:"特审候",failed:"不通过",wait_report:"待上报",in_progress:"进行中"})[n]||"未知",$=async()=>{const n=u.params.id;if(!n)return;const a={model:"t_annual_plan_report",args:`id='${n}'`},i=await p.http({Api:a});if(Array.isArray(i)&&i.length>0){Object.assign(s,i[0]);return}Object.assign(s,{id:n,city_name:"太原市",district_name:"小店区",status:"in_progress",report_time:"2026-01-20",plan_year:"2026",investment_amount:"38000",project_count:"8",report_unit:"太原市城市更新中心"})},j=()=>{o.toPath("/annual-plan")},h=()=>{o.toPath(`/annual-plan/${s.id}/projects`)},C=()=>{o.toPath(`/annual-plan/${s.id}/attachments`)},k=()=>{o.toPath(`/annual-plan/${s.id}/goals`)};return P(()=>{$()}),(n,a)=>{const i=O,w=V,_=M;return A(),E("div",q,[l(_,{class:"detail-header-card"},{default:d(()=>[t("div",z,[t("div",G,e(m.value),1),t("div",{class:"detail-close",onClick:r(j,["stop"])},[l(i)])]),t("div",K,[t("div",L,[a[0]||(a[0]=t("span",{class:"label"},"所属地区",-1)),t("span",R,e(v.value),1)]),t("div",F,[a[1]||(a[1]=t("span",{class:"label"},"计划总投资",-1)),t("span",H,e(f.value),1)]),t("div",J,[a[2]||(a[2]=t("span",{class:"label"},"计划状态",-1)),t("span",Q,[l(w,{type:b(s.status),effect:"dark",size:"small"},{default:d(()=>[D(e(x(s.status)),1)]),_:1},8,["type"])])]),t("div",U,[a[3]||(a[3]=t("span",{class:"label"},"包含项目",-1)),t("span",W,e(y.value),1)]),t("div",X,[a[4]||(a[4]=t("span",{class:"label"},"计划建设规模",-1)),t("span",Y,e(g.value),1)]),t("div",Z,[a[5]||(a[5]=t("span",{class:"label"},"上报单位",-1)),t("span",tt,e(s.report_unit||"-"),1)])])]),_:1}),l(_,{class:"detail-info-card"},{default:d(()=>[a[9]||(a[9]=t("div",{class:"info-title"},"详细信息",-1)),t("div",st,[t("div",{class:"info-action",onClick:r(h,["stop"])},[...a[6]||(a[6]=[t("div",{class:"action-icon icon-orange"},[t("i",{class:"el-icon-s-operation"})],-1),t("div",{class:"action-text"},"项目库",-1)])]),t("div",{class:"info-action",onClick:r(k,["stop"])},[...a[7]||(a[7]=[t("div",{class:"action-icon icon-blue"},[t("i",{class:"el-icon-s-grid"})],-1),t("div",{class:"action-text"},"年度目标",-1)])]),t("div",{class:"info-action",onClick:r(C,["stop"])},[...a[8]||(a[8]=[t("div",{class:"action-icon icon-purple"},[t("i",{class:"el-icon-document"})],-1),t("div",{class:"action-text"},"计划附件",-1)])])])]),_:1})])}}}),ct=I(at,[["__scopeId","data-v-e76bf622"]]);export{ct as default};
