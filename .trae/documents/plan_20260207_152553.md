I will rewrite the `saveThreeTables` function in `e:\Order\city\vue\src\views\async\actionApply\step2.vue` to correctly implement the three-table save logic as per `e:\Order\city\docs\三表保存逻辑方法.md` and your specific instructions.

**Plan Details:**

1.  **Modify `saveThreeTables` Function**:
    *   **Resolve Project ID**: Use `resolveReportId(res, form.id)` to ensure we get the real report ID.
    *   **Data Preparation**: Initialize lists for Add, Update, and Delete operations for each table (`t_scheme_task`, `t_project_task`, `t_scheme_problem_*`).
    *   **Process "Key Implementation Tasks" (`keyTasks`)**:
        *   Iterate `keyTasks`.
        *   **Scheme Task**: If `row.id` exists (or `op='edit'`), add to `updList`; if `op='delete'`, add to `delList`; else add to `addList` (generate new UUID).
        *   **Annual Targets (`t_project_task`)**: Parse `t2026`, `t2027` etc. For each target, create a record.
            *   *Strategy*: Since tracking individual annual target IDs is complex, I will implement a "Delete all for this project_id" strategy for `t_project_task` *if possible* (using `delApi` with args), or default to `addApi` (Insert) and note the upsert limitation. *Refinement*: I will try to group these into the `projectTasks` lists.
    *   **Process "Physical Examination Tasks" (`checkTasks`)**:
        *   Iterate `checkTasks`.
        *   Generate `resultId`, `itemId`.
        *   **Crucial Step**: Set `problemLog.parent_id = itemId` as requested.
        *   Map fields to Result, Item, and Log tables.
        *   Add to `addList` (or `updList` if IDs exist).
    *   **Process "Timing Management" (`timelineRows`)**:
        *   Iterate `timelineRows`.
        *   If `row.id` exists, add to `updList`; else `addList`.
    *   **Execute API Calls**:
        *   Call `api.addApi` for `addList`s.
        *   Call `api.updApi` for `updList`s (if available and needed).
        *   Call `api.delApi` for `delList`s (if `op='delete'` is encountered).

2.  **Verify `resolveReportId`**:
    *   Update to accept `res` and prioritize `res.data.id`.

3.  **Dependencies**:
    *   Ensure `uuidv6` is used.
    *   Ensure field mappings (e.g., `construct_scale` -> `unit_target`, `type` -> `class`) are correct.

This plan addresses the "Must Change" points: handling `op` (Add/Edit/Delete logic), ensuring `log.parent_id` linkage, and using the correct Report ID.